<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[mike、mikeなるままに…]]></title>
  <link href="http://mike-neck.github.io/atom.xml" rel="self"/>
  <link href="http://mike-neck.github.io/"/>
  <updated>2013-05-26T21:48:05+09:00</updated>
  <id>http://mike-neck.github.io/</id>
  <author>
    <name><![CDATA[mike-neck]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[blogの更新pingを送れるようにrakeのタスクを書いてみた]]></title>
    <link href="http://mike-neck.github.io/blog/2013/05/26/blogfalsegeng-xin-pingwosong-reruyounirakefalsetasukuwoshu-itemita/"/>
    <updated>2013-05-26T21:38:00+09:00</updated>
    <id>http://mike-neck.github.io/blog/2013/05/26/blogfalsegeng-xin-pingwosong-reruyounirakefalsetasukuwoshu-itemita</id>
    <content type="html"><![CDATA[<p>こんにちわ、みけです。</p>

<p>お金がないので、ブログを読んでもらって、</p>

<p>google adsenseをみんなに押してもらわないと、</p>

<p>死んでしまいます。</p>

<p>さて、そんなことはどうでもよくて、</p>

<p>bloggerでブログをやっていたときは、</p>

<p>googleさんが勝手に検索エンジンに乗せてくれるので、</p>

<p>検索しやすかったのですが、</p>

<p>githubでブログを書くようになって、</p>

<p>検索で出にくくなっていたので、</p>

<p>更新pingをrakeで送りつけるようにしました。</p>

<p>まあ、「更新ping ruby」でググった結果をrakeのタスクにしただけですが…</p>

<p>で、追加したのがこんな感じのタスクです。</p>

<figure class='code'><figcaption><span>rakefile</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s2">&quot;yaml&quot;</span>
</span><span class='line'><span class="nb">require</span> <span class="s2">&quot;xmlrpc/client&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#-- sending ping --#</span>
</span><span class='line'><span class="n">desc</span> <span class="s2">&quot;Sedning ping to Web Search Engines&quot;</span>
</span><span class='line'><span class="n">task</span> <span class="ss">:ping</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">site_config</span> <span class="o">=</span> <span class="no">YAML</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="no">IO</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;_config.yml&#39;</span><span class="p">))</span>
</span><span class='line'>  <span class="n">blog_title</span> <span class="o">=</span> <span class="n">site_config</span><span class="o">[</span><span class="s1">&#39;title&#39;</span><span class="o">]</span>
</span><span class='line'>  <span class="n">blog_url</span> <span class="o">=</span> <span class="n">site_config</span><span class="o">[</span><span class="s1">&#39;url&#39;</span><span class="o">]</span>
</span><span class='line'>  <span class="n">ping_url</span> <span class="o">=</span> <span class="no">YAML</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="no">IO</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;ping.yml&#39;</span><span class="p">))</span>
</span><span class='line'>  <span class="n">ping_url</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">url</span><span class="o">|</span>
</span><span class='line'>    <span class="n">ping</span> <span class="o">=</span> <span class="ss">XMLRPC</span><span class="p">:</span><span class="ss">:Client</span><span class="o">.</span><span class="n">new2</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</span><span class='line'>    <span class="n">result</span> <span class="o">=</span> <span class="n">ping</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s1">&#39;weblogUpdates.ping&#39;</span><span class="p">,</span> <span class="n">blog_title</span><span class="p">,</span> <span class="n">blog_url</span><span class="p">)</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="n">result</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>この新たに追加したタスクを後は、gen_deployタスクに追加します。</p>

<figure class='code'><figcaption><span>rakefile</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">desc</span> <span class="s2">&quot;Generate website and deploy&quot;</span>
</span><span class='line'><span class="n">task</span> <span class="ss">:gen_deploy</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="ss">:integrate</span><span class="p">,</span> <span class="ss">:generate</span><span class="p">,</span> <span class="ss">:deploy</span><span class="p">,</span> <span class="ss">:ping</span><span class="o">]</span> <span class="k">do</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>あと、適当に<code>ping.yml</code>に更新pingを送りつけるサイトを記述すればおｋです。</p>

<figure class='code'><figcaption><span>ping.yml</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='yaml'><span class='line'><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">http://blogsearch.google.com/ping/RPC2</span>
</span><span class='line'><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">http://blog.goo.ne.jp/XMLRPC</span>
</span><span class='line'><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">http://api.my.yahoo.com/RPC2</span>
</span><span class='line'><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">http://ping.bloggers.jp/rpc/</span>
</span><span class='line'><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">http://ping.rss.drecom.jp/</span>
</span><span class='line'><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">http://rpc.blogrolling.com/pinger/</span>
</span><span class='line'><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">http://rpc.weblogs.com/RPC2</span>
</span><span class='line'><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">http://rpc.reader.livedoor.com/ping</span>
</span><span class='line'><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">http://www.blogstyle.jp/</span>
</span><span class='line'><span class="p-Indicator">-</span> <span class="l-Scalar-Plain">http://www.blogpeople.net/ping/</span>
</span></code></pre></td></tr></table></div></figure>




<script type="text/javascript"><!--
google_ad_client = "ca-pub-4508687151223458";
/* octopress */
google_ad_slot = "1134799005";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>


<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40855644-1', 'github.io');
  ga('send', 'pageview');

</script>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[gradleとJUnitのEnclosedの話]]></title>
    <link href="http://mike-neck.github.io/blog/2013/05/25/an-falseding-xian-nihamatutetaren-gaitagradletojunitfalseenclosedfalsehua/"/>
    <updated>2013-05-25T23:19:00+09:00</updated>
    <id>http://mike-neck.github.io/blog/2013/05/25/an-falseding-xian-nihamatutetaren-gaitagradletojunitfalseenclosedfalsehua</id>
    <content type="html"><![CDATA[<p>みけです。</p>

<p><a href="http://mike-neck.github.io/blog/2013/05/25/javadehazimetesocketpuroguramuwoshu-itemita/">先ほど書いたエントリー</a>でテストをgradleで走らせたのですが、</p>

<blockquote class="twitter-tweet" lang="ja"><p>gradleでテストした時に謎のclassMethodとかいうテストが勝手に挟み込まれて、落ちて困っている</p>&mdash; もちださんさん (@mike_neck) <a href="https://twitter.com/mike_neck/status/338275875294441472">2013年5月25日</a></blockquote>


<script async src="http://mike-neck.github.io//platform.twitter.com/widgets.js" charset="utf-8"></script>


<p>という状態が発生してました。</p>

<p>具体的には、</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">org</span><span class="o">.</span><span class="na">mikeneck</span><span class="o">.</span><span class="na">multithreads</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.junit.*</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.junit.experimental.runners.Enclosed</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.junit.rules.TestName</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">org.junit.runner.RunWith</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.Arrays</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.concurrent.*</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">hamcrest</span><span class="o">.</span><span class="na">Matchers</span><span class="o">.</span><span class="na">is</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">junit</span><span class="o">.</span><span class="na">Assert</span><span class="o">.</span><span class="na">assertThat</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> * @author mike</span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'><span class="nd">@RunWith</span><span class="o">(</span><span class="n">Enclosed</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SimpleSocketTest</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">SingleClient</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>        <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">ExecutorService</span> <span class="n">SERVICE</span> <span class="o">=</span> <span class="n">Executors</span><span class="o">.</span><span class="na">newFixedThreadPool</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">PORT</span> <span class="o">=</span> <span class="mi">12521</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>        <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">LOCALHOST</span> <span class="o">=</span> <span class="s">&quot;localhost&quot;</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>        <span class="kd">private</span> <span class="n">SimpleClient</span> <span class="n">client</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>        <span class="nd">@Rule</span>
</span><span class='line'>        <span class="kd">public</span> <span class="n">TestName</span> <span class="n">testName</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TestName</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>        <span class="nd">@BeforeClass</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">start</span> <span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">SERVICE</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="k">new</span> <span class="n">SimpleServer</span><span class="o">(</span><span class="n">PORT</span><span class="o">));</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="nd">@Before</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setup</span> <span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleClient</span><span class="o">(</span><span class="n">LOCALHOST</span><span class="o">,</span> <span class="n">PORT</span><span class="o">);</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="nd">@After</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">tearDown</span> <span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">testName</span><span class="o">.</span><span class="na">getMethodName</span><span class="o">()</span> <span class="o">+</span> <span class="s">&quot; is closing&quot;</span><span class="o">);</span>
</span><span class='line'>            <span class="n">client</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="nd">@AfterClass</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">end</span> <span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">new</span> <span class="nf">SimpleClient</span><span class="o">(</span><span class="n">LOCALHOST</span><span class="o">,</span> <span class="n">PORT</span><span class="o">).</span><span class="na">open</span><span class="o">().</span><span class="na">bye</span><span class="o">();</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="nd">@Test</span>
</span><span class='line'>        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">socketProcessing</span> <span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">client</span><span class="o">.</span><span class="na">open</span><span class="o">();</span>
</span><span class='line'>            <span class="n">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">sendMessage</span><span class="o">(</span><span class="s">&quot;Hello&quot;</span><span class="o">);</span>
</span><span class='line'>            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Message from Server [&quot;</span> <span class="o">+</span> <span class="n">message</span> <span class="o">+</span> <span class="s">&quot;]&quot;</span><span class="o">);</span>
</span><span class='line'>            <span class="n">assertThat</span><span class="o">(</span><span class="n">message</span><span class="o">,</span> <span class="n">is</span><span class="o">(</span><span class="s">&quot;Hello&quot;</span><span class="o">));</span>
</span><span class='line'>            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Assertion ends.&quot;</span><span class="o">);</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>というテストに対して、</p>

<p><img src="https://googledrive.com/host/0B4hhdHWLP7RRaS15VXNZRTNVWUU" style="width : 424px; height : 262px;" /></p>

<p>という感じで、謎の<code>classMethod</code>というテストが追加されていて、</p>

<p>実行されてテストが落ちてしまうようです。</p>

<h2>先駆者はいた</h2>

<p>とりあえず、<code>gradle</code>、<code>Enclosed</code>、<code>Junit</code>でググっていたところ、</p>

<p>次の二つのエントリーを発見しました。</p>

<ul>
<li><a href="http://d.hatena.ne.jp/irof/20120430/p1">GradleでEnclosedのテストが二回実行されるんだ</a></li>
<li><a href="http://d.hatena.ne.jp/shuji_w6e/20120808/1344386399">GradleでEnclosedテストが2回実行されることの対策</a></li>
</ul>


<p>というわけで、<code>gradle</code>と<code>Enclosed</code>の相性がわるいっぽい…</p>

<h2>gradleでEnclosedなテストをする時の対策</h2>

<p>というわけで、<a href="https://twitter.com/shuji_w6e">@shuji_w6e</a>さんのページによると</p>

<p><strong>テストの実行時に除外クラスを指定すること。</strong></p>

<p>だそうです。</p>

<figure class='code'><figcaption><span>build.gradle</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="n">apply</span> <span class="n">plugin</span> <span class="o">:</span> <span class="s1">&#39;groovy&#39;</span>
</span><span class='line'><span class="n">apply</span> <span class="n">plugin</span> <span class="o">:</span> <span class="s1">&#39;idea&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">group</span> <span class="o">=</span> <span class="s1">&#39;org.mikeneck.multithreads&#39;</span>
</span><span class='line'><span class="n">version</span> <span class="o">=</span> <span class="s1">&#39;1.0&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="kt">def</span> <span class="n">compatibility</span> <span class="o">=</span> <span class="mf">1.7</span>
</span><span class='line'>
</span><span class='line'><span class="n">sourceCompatibility</span> <span class="o">=</span> <span class="n">compatibility</span>
</span><span class='line'><span class="n">targetCompatibility</span> <span class="o">=</span> <span class="n">compatibility</span>
</span><span class='line'>
</span><span class='line'><span class="n">repositories</span> <span class="o">{</span>
</span><span class='line'>  <span class="n">mavenCentral</span> <span class="o">()</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">dependencies</span> <span class="o">{</span>
</span><span class='line'>  <span class="n">compile</span> <span class="s1">&#39;org.codehaus.groovy:groovy-all:2.1.3&#39;</span>
</span><span class='line'>  <span class="n">testCompile</span> <span class="o">(</span><span class="s1">&#39;junit:junit:4.11&#39;</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="n">exclude</span> <span class="n">module</span> <span class="o">:</span> <span class="s1">&#39;hamcrest-core&#39;</span>
</span><span class='line'>      <span class="n">exclude</span> <span class="n">module</span> <span class="o">:</span> <span class="s1">&#39;hamcrest&#39;</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'>  <span class="n">testCompile</span> <span class="s1">&#39;org.hamcrest:hamcrest-library:1.+&#39;</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">test</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">exclude</span> <span class="s1">&#39;**/*$*&#39;</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>とりあえず、テストクラスを除外してみました。</p>

<h2>結果</h2>

<p><img src="https://googledrive.com/host/0B4hhdHWLP7RRczBZcy04U2tNMms" style="width : 424px; height : 252px;"" /></p>

<p>という感じで、テストが通りました。</p>

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4508687151223458";
/* octopress */
google_ad_slot = "1134799005";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>


<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40855644-1', 'github.io');
  ga('send', 'pageview');

</script>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[JavaではじめてSocketプログラムを書いてみた]]></title>
    <link href="http://mike-neck.github.io/blog/2013/05/25/javadehazimetesocketpuroguramuwoshu-itemita/"/>
    <updated>2013-05-25T21:13:00+09:00</updated>
    <id>http://mike-neck.github.io/blog/2013/05/25/javadehazimetesocketpuroguramuwoshu-itemita</id>
    <content type="html"><![CDATA[<p>みけです。</p>

<p>jjugのメーリングリストにconcurrentに関する質問が着ていたので、</p>

<p>答えようと思ってみたんですが、</p>

<p>Socketを使ったプログラムで、</p>

<p><strong>そういえば僕、Socketを使ったプログラム書いたこと無いな</strong></p>

<p>と思い至り、書いてみることにしました。</p>

<h2>SocketServerのほう</h2>

<p><code>java.net.ServerSocket</code>を使って書くようです。</p>

<figure class='code'><figcaption><span>SimpleServer.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">org</span><span class="o">.</span><span class="na">mikeneck</span><span class="o">.</span><span class="na">socket</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.PrintStream</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.net.InetSocketAddress</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.net.ServerSocket</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.net.Socket</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> * @author mike_neck</span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SimpleServer</span> <span class="kd">implements</span> <span class="n">Runnable</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">final</span> <span class="n">ServerSocket</span> <span class="n">serverSocket</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="nf">SimpleServer</span><span class="o">(</span><span class="kt">int</span> <span class="n">port</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">serverSocket</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ServerSocket</span><span class="o">(</span><span class="n">port</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Override</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">while</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">try</span> <span class="o">(</span><span class="n">Socket</span> <span class="n">socket</span> <span class="o">=</span> <span class="n">serverSocket</span><span class="o">.</span><span class="na">accept</span><span class="o">();</span>
</span><span class='line'>                 <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
</span><span class='line'>                     <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
</span><span class='line'>                 <span class="n">PrintStream</span> <span class="n">writer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PrintStream</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">())</span>
</span><span class='line'>            <span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                <span class="n">String</span> <span class="n">line</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">();</span>
</span><span class='line'>                <span class="n">writer</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">line</span><span class="o">);</span>
</span><span class='line'>                <span class="k">if</span> <span class="o">(</span><span class="n">line</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&quot;BYE&quot;</span><span class="o">))</span> <span class="o">{</span>
</span><span class='line'>                    <span class="k">break</span><span class="o">;</span>
</span><span class='line'>                <span class="o">}</span>
</span><span class='line'>            <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>                <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
</span><span class='line'>            <span class="o">}</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>SocketClientのほう</h2>

<p>クライアントアプリケーションの方は<code>java.net.Socket</code>を用いるようです。</p>

<figure class='code'><figcaption><span>SimpleClient.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">package</span> <span class="n">org</span><span class="o">.</span><span class="na">mikeneck</span><span class="o">.</span><span class="na">multithreads</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.DataOutputStream</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.net.Socket</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="cm">/**</span>
</span><span class='line'><span class="cm"> * @author mike_neck</span>
</span><span class='line'><span class="cm"> */</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SimpleClient</span> <span class="kd">implements</span> <span class="n">AutoCloseable</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">final</span> <span class="n">Socket</span> <span class="n">socket</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">private</span> <span class="n">DataOutputStream</span> <span class="n">output</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">private</span> <span class="n">BufferedReader</span> <span class="n">input</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="nf">SimpleClient</span><span class="o">(</span><span class="n">String</span> <span class="n">hostname</span><span class="o">,</span> <span class="kt">int</span> <span class="n">port</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">socket</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Socket</span><span class="o">(</span><span class="n">hostname</span><span class="o">,</span> <span class="n">port</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="n">SimpleClient</span> <span class="nf">open</span> <span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">output</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DataOutputStream</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getOutputStream</span><span class="o">());</span>
</span><span class='line'>        <span class="n">input</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span>
</span><span class='line'>            <span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">socket</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">()));</span>
</span><span class='line'>        <span class="k">return</span> <span class="k">this</span><span class="o">;</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="n">String</span> <span class="nf">sendMessage</span><span class="o">(</span><span class="n">String</span> <span class="n">message</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">output</span><span class="o">.</span><span class="na">writeBytes</span><span class="o">(</span><span class="n">message</span> <span class="o">+</span> <span class="sc">&#39;\n&#39;</span><span class="o">);</span>
</span><span class='line'>        <span class="n">String</span> <span class="n">line</span><span class="o">;</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">((</span><span class="n">line</span> <span class="o">=</span> <span class="n">input</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">return</span> <span class="n">line</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
</span><span class='line'>            <span class="k">return</span> <span class="s">&quot;&quot;</span><span class="o">;</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">bye</span> <span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">output</span><span class="o">.</span><span class="na">writeBytes</span><span class="o">(</span><span class="s">&quot;BYE\n&quot;</span><span class="o">);</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Override</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">close</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="o">(!</span><span class="n">socket</span><span class="o">.</span><span class="na">isClosed</span><span class="o">())</span> <span class="o">{</span>
</span><span class='line'>            <span class="n">socket</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
</span><span class='line'>        <span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>SocketServerでの疑問</h2>

<p>と、まあ簡単なプログラムを書いたのですが、</p>

<p>二回メッセージを送る場合はどうなるのかとか、疑問が残りますね。</p>

<p>で、テストを書くわけですが…</p>

<p>案の定落ちました。</p>

<figure class='code'><figcaption><span>SendManyMessages.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="c1">// import とか packageとか省略</span>
</span><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">SendManyMessages</span> <span class="o">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">ExecutorService</span> <span class="n">SERVICE</span> <span class="o">=</span> <span class="n">Executors</span><span class="o">.</span><span class="na">newFixedThreadPool</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">PORT</span> <span class="o">=</span> <span class="mi">14541</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">LOCALHOST</span> <span class="o">=</span> <span class="s">&quot;localhost&quot;</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@Rule</span>
</span><span class='line'>    <span class="kd">public</span> <span class="n">TestName</span> <span class="n">testName</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TestName</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@BeforeClass</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">start</span> <span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">SERVICE</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="k">new</span> <span class="n">SimpleServer</span><span class="o">(</span><span class="n">PORT</span><span class="o">));</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@AfterClass</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">end</span> <span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
</span><span class='line'>        <span class="k">new</span> <span class="nf">SimpleClient</span><span class="o">(</span><span class="n">LOCALHOST</span><span class="o">,</span> <span class="n">PORT</span><span class="o">).</span><span class="na">open</span><span class="o">().</span><span class="na">bye</span><span class="o">();</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="nd">@ThisTestWillFail</span>
</span><span class='line'>    <span class="nd">@Test</span>
</span><span class='line'>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">send2times</span> <span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
</span><span class='line'>        <span class="n">SimpleClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleClient</span><span class="o">(</span><span class="n">LOCALHOST</span><span class="o">,</span> <span class="n">PORT</span><span class="o">).</span><span class="na">open</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">assertThat</span><span class="o">(</span><span class="n">client</span><span class="o">.</span><span class="na">sendMessage</span><span class="o">(</span><span class="s">&quot;hello&quot;</span><span class="o">),</span> <span class="n">is</span><span class="o">(</span><span class="s">&quot;hello&quot;</span><span class="o">));</span>
</span><span class='line'>        <span class="n">assertThat</span><span class="o">(</span><span class="n">client</span><span class="o">.</span><span class="na">sendMessage</span><span class="o">(</span><span class="s">&quot;good-bye&quot;</span><span class="o">),</span> <span class="n">is</span><span class="o">(</span><span class="s">&quot;good-bye&quot;</span><span class="o">));</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>SendManyMessages.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">java</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">SocketException</span><span class="o">:</span> <span class="n">Broken</span> <span class="n">pipe</span>
</span><span class='line'>  <span class="n">at</span> <span class="n">java</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">SocketOutputStream</span><span class="o">.</span><span class="na">socketWrite0</span><span class="o">(</span><span class="n">Native</span> <span class="n">Method</span><span class="o">)</span>
</span><span class='line'>  <span class="n">at</span> <span class="n">java</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">SocketOutputStream</span><span class="o">.</span><span class="na">socketWrite</span><span class="o">(</span><span class="n">SocketOutputStream</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">109</span><span class="o">)</span>
</span><span class='line'>  <span class="n">at</span> <span class="n">java</span><span class="o">.</span><span class="na">net</span><span class="o">.</span><span class="na">SocketOutputStream</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">SocketOutputStream</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">132</span><span class="o">)</span>
</span><span class='line'>  <span class="n">at</span> <span class="n">java</span><span class="o">.</span><span class="na">io</span><span class="o">.</span><span class="na">DataOutputStream</span><span class="o">.</span><span class="na">writeBytes</span><span class="o">(</span><span class="n">DataOutputStream</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">276</span><span class="o">)</span>
</span><span class='line'>  <span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">mikeneck</span><span class="o">.</span><span class="na">multithreads</span><span class="o">.</span><span class="na">SimpleClient</span><span class="o">.</span><span class="na">sendMessage</span><span class="o">(</span><span class="n">SimpleClient</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">31</span><span class="o">)</span>
</span><span class='line'>  <span class="n">at</span> <span class="n">org</span><span class="o">.</span><span class="na">mikeneck</span><span class="o">.</span><span class="na">multithreads</span><span class="o">.</span><span class="na">SendManyMessages</span><span class="o">.</span><span class="na">send2times</span><span class="o">(</span><span class="n">SendManyMessages</span><span class="o">.</span><span class="na">java</span><span class="o">:</span><span class="mi">37</span><span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>うん、まあ、今回は別になんか状態を持つようなサーバーを作りたいわけではないし、</p>

<p>そういうサーバーを作りたい場合は、まあ、そういう工夫をすればいいということだけ覚えておこう。</p>

<p>なお、他に書いたテストもありますが、</p>

<p>面倒なので、gistにあげておきました。</p>

<p><a href="https://gist.github.com/mike-neck/5649095">こちらをどうぞ</a></p>

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4508687151223458";
/* octopress */
google_ad_slot = "1134799005";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>


<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40855644-1', 'github.io');
  ga('send', 'pageview');

</script>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Erlangのlistsモジュールを試してみる - 第3回]]></title>
    <link href="http://mike-neck.github.io/blog/2013/05/23/erlangfalselistsmoziyuruwoshi-sitemiru-di-3hui/"/>
    <updated>2013-05-23T13:01:00+09:00</updated>
    <id>http://mike-neck.github.io/blog/2013/05/23/erlangfalselistsmoziyuruwoshi-sitemiru-di-3hui</id>
    <content type="html"><![CDATA[<p>Erlangのlistsモジュールを試してみるの第三回は次のコマンドの結果について試していきます。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="nn">lists</span><span class="p">:</span><span class="nf">sublist</span><span class="p">(</span>
</span><span class='line'>    <span class="nn">lists</span><span class="p">:</span><span class="nf">sort</span><span class="p">(</span>
</span><span class='line'>        <span class="nn">lists</span><span class="p">:</span><span class="nf">map</span><span class="p">(</span>
</span><span class='line'>            <span class="k">fun</span><span class="p">({</span><span class="nv">F</span><span class="p">,</span> <span class="nv">A</span><span class="p">})</span> <span class="o">-&gt;</span>
</span><span class='line'>                <span class="nb">atom_to_list</span><span class="p">(</span><span class="nv">F</span><span class="p">)</span> <span class="o">++</span>
</span><span class='line'>                <span class="s">&quot;/&quot;</span> <span class="o">++</span>
</span><span class='line'>                <span class="nb">integer_to_list</span><span class="p">(</span><span class="nv">A</span><span class="p">)</span>
</span><span class='line'>            <span class="k">end</span><span class="p">,</span>
</span><span class='line'>            <span class="nn">lists</span><span class="p">:</span><span class="nf">module_info</span><span class="p">(</span><span class="n">exports</span><span class="p">))),</span>
</span><span class='line'>    <span class="mi">33</span><span class="p">,</span>
</span><span class='line'>    <span class="mi">16</span><span class="p">).</span>
</span></code></pre></td></tr></table></div></figure>


<p>結果</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="p">[</span>
</span><span class='line'>  <span class="s">&quot;merge/1&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;merge/2&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;merge/3&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;merge3/3&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;min/1&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;module_info/0&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;module_info/1&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;nth/2&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;nthtail/2&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;partition/2&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;prefix/2&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;reverse/1&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;reverse/2&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;rkeymerge/3&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;rmerge/2&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;rmerge/3&quot;</span>
</span><span class='line'><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<h3>merge/1</h3>

<h4>Erlang Document</h4>

<blockquote><h4>merge(ListOfLists) &ndash;> List1</h4>

<h4>Types</h4>

<ul>
<li>ListOfLists = [List]</li>
<li>List = List1 = [T]</li>
<li>T = term()</li>
</ul>


<p>Returns the sorted list formed by merging all the sub-lists of ListOfLists. All sub-lists must be sorted prior to evaluating this function. When two elements compare equal, the element from the sub-list with the lowest position in ListOfLists is picked before the other element.</p>

<p><a href="http://erlang.org/doc/man/lists.html#merge-1">参照先</a></p></blockquote>

<h4>Explain</h4>

<p>リスト内のリストをソートしてマージしたリストを返します。なお、リスト内のリストは事前にソートされている必要があります。</p>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">merge</span><span class="p">([</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">9</span><span class="p">],</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">]]).</span>
</span><span class='line'><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">9</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>複数のリストがマージされて新しいリストが返されます。</p>

<h3>merge/2</h3>

<h4>Erlang Document</h4>

<blockquote><h4>merge(List1, List2) &ndash;> List3</h4>

<h4>Types</h4>

<ul>
<li>List1 = [X]</li>
<li>List2 = [Y]</li>
<li>List3 = [(X | Y)]</li>
<li>X = Y = term()</li>
</ul>


<p>Returns the sorted list formed by merging List1 and List2. Both List1 and List2 must be sorted prior to evaluating this function. When two elements compare equal, the element from List1 is picked before the element from List2.</p>

<p><a href="http://erlang.org/doc/man/lists.html#merge-2">参照先</a></p></blockquote>

<h4>Explain</h4>

<p>二つのリストをソートしてマージした新しいリストを返します。二つのリストは事前にソートされている必要があります。</p>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">merge</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">]).</span>
</span><span class='line'><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>二つのリストがマージされた新しいリストが返されます。</p>

<h3>merge/3</h3>

<h4>Erlang Document</h4>

<blockquote><h4>merge(Fun, List1, List2) &ndash;> List3</h4>

<h4>Types</h4>

<ul>
<li>Fun = fun((A, B) &ndash;> boolean())</li>
<li>List1 = [A]</li>
<li>List2 = [B]</li>
<li>List3 = [(A | B)]</li>
<li>A = B = term()</li>
</ul>


<p>Returns the sorted list formed by merging List1 and List2. Both List1 and List2 must be sorted according to the <a href="http://www.erlang.org/doc/man/lists.html#ordering_function">ordering function</a> <code>Fun</code> prior to evaluating this function. <code>Fun(A, B)</code> should return <code>true</code> if <code>A</code> compares less than or equal to <code>B</code> in the ordering, <code>false</code> otherwise. When two elements compare equal, the element from List1 is picked before the element from List2.</p>

<p><a href="http://erlang.org/doc/man/lists.html#merge-3">参照先</a></p></blockquote>

<h4>Explain</h4>

<p><code>List1</code>と<code>List2</code>をソートしてマージした新しいリストを返します。引数のリストは事前にソートされている必要があります。<code>Fun(A, B)</code>はソートオーダーに関して<code>A</code>が先に来るべきである場合は<code>true</code>を、そうでない場合は<code>false</code>を返します。同じ値の要素がある場合は、<code>List1</code>のものが<code>List2</code>のものに優先されます。</p>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">merge</span><span class="p">(</span><span class="k">fun</span><span class="p">(</span><span class="nv">A</span><span class="p">,</span> <span class="nv">B</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nv">A</span> <span class="o">&gt;</span> <span class="nv">B</span> <span class="k">end</span><span class="p">,[</span><span class="mi">6</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]).</span>
</span><span class='line'><span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">merge</span><span class="p">(</span><span class="k">fun</span><span class="p">({</span><span class="nv">A</span><span class="p">,_},</span> <span class="p">{</span><span class="nv">B</span><span class="p">,_})</span> <span class="o">-&gt;</span> <span class="nv">A</span> <span class="o">=&lt;</span> <span class="nv">B</span> <span class="k">end</span><span class="p">,</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="p">[{</span><span class="mi">1</span><span class="p">,</span><span class="n">a</span><span class="p">},{</span><span class="mi">3</span><span class="p">,</span><span class="n">a</span><span class="p">},{</span><span class="mi">4</span><span class="p">,</span><span class="n">a</span><span class="p">},{</span><span class="mi">5</span><span class="p">,</span><span class="n">a</span><span class="p">}],</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="p">[{</span><span class="mi">0</span><span class="p">,</span><span class="n">b</span><span class="p">},{</span><span class="mi">2</span><span class="p">,</span><span class="n">b</span><span class="p">},{</span><span class="mi">4</span><span class="p">,</span><span class="n">b</span><span class="p">},{</span><span class="mi">6</span><span class="p">,</span><span class="n">b</span><span class="p">}]).</span>
</span><span class='line'><span class="p">[{</span><span class="mi">0</span><span class="p">,</span><span class="n">b</span><span class="p">},{</span><span class="mi">1</span><span class="p">,</span><span class="n">a</span><span class="p">},{</span><span class="mi">2</span><span class="p">,</span><span class="n">b</span><span class="p">},{</span><span class="mi">3</span><span class="p">,</span><span class="n">a</span><span class="p">},{</span><span class="mi">4</span><span class="p">,</span><span class="n">a</span><span class="p">},{</span><span class="mi">4</span><span class="p">,</span><span class="n">b</span><span class="p">},{</span><span class="mi">5</span><span class="p">,</span><span class="n">a</span><span class="p">},{</span><span class="mi">6</span><span class="p">,</span><span class="n">b</span><span class="p">}]</span>
</span></code></pre></td></tr></table></div></figure>


<p>最初の例では、降順にソートする関数で評価してリストをマージして新しいリストを返します。</p>

<p>後者の例では、昇順ソートです。同一の値の場合に<code>List1</code>から要素が取得されています。</p>

<h3>merge3/3</h3>

<h4>Erlang Document</h4>

<blockquote><h4>merge3(List1, List2, List3) &ndash;> List4</h4>

<h4>Types</h4>

<ul>
<li>List1 = [X]</li>
<li>List2 = [Y]</li>
<li>List3 = [Z]</li>
<li>List4 = [(X | Y | Z)]</li>
<li>X = Y = Z = term()</li>
</ul>


<p>Returns the sorted list formed by merging List1, List2 and List3. All of List1, List2 and List3 must be sorted prior to evaluating this function. When two elements compare equal, the element from List1, if there is such an element, is picked before the other element, otherwise the element from List2 is picked before the element from List3.</p>

<p><a href="http://erlang.org/doc/man/lists.html#merge3-3">参照先</a></p></blockquote>

<h4>Explain</h4>

<p>三つのリストをソートしてマージした新しいリストを返します。引数のリストは事前にソートされている必要があります。もし同じ値の要素があった場合は<code>List1</code>、<code>List2</code>、<code>List3</code>の順番で優先されます。</p>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">50</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">merge3</span><span class="p">(</span>
</span><span class='line'><span class="mi">50</span><span class="o">&gt;</span>   <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
</span><span class='line'><span class="mi">50</span><span class="o">&gt;</span>   <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span>
</span><span class='line'><span class="mi">50</span><span class="o">&gt;</span>   <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]).</span>
</span><span class='line'><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<h3>min/1</h3>

<h4>Erlang Document</h4>

<blockquote><h4>min(List) &ndash;> Min</h4>

<h4>Types</h4>

<ul>
<li>List = [T, …]</li>
<li>Min = T</li>
<li>T = term()</li>
</ul>


<p>Returns the first element of List that compares less than or equal to all other elements of List.</p>

<p><a href="http://erlang.org/doc/man/lists.html#min-1">参照先</a></p></blockquote>

<h4>Explain</h4>

<p>リスト中、最初に現れた最も小さい要素を返します。</p>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">min</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]).</span>
</span><span class='line'><span class="mi">1</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">min</span><span class="p">([</span><span class="n">h</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">l</span><span class="p">]).</span>
</span><span class='line'><span class="n">b</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">min</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">]).</span>
</span><span class='line'><span class="mi">0</span>
</span><span class='line'><span class="mi">4</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">min</span><span class="p">([</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]).</span>
</span><span class='line'><span class="mi">0</span><span class="p">.</span><span class="mi">0</span>
</span><span class='line'><span class="mi">5</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">min</span><span class="p">([</span><span class="n">&#39;A&#39;</span><span class="p">,</span> <span class="mi">123</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="mi">123</span><span class="p">.</span><span class="mi">0</span><span class="p">]).</span>
</span><span class='line'><span class="mi">123</span>
</span></code></pre></td></tr></table></div></figure>


<p>最初の例では引数のリストの最小整数1が返されます。</p>

<p>次の例では引数のリストの最小のatom<code>b</code>が返されます。</p>

<p>三番目と四番目の例では整数と浮動小数点数の0を比較して最初に現れた要素が返されます。</p>

<p>最後の例では整数と浮動小数点数とatomを比較しています。最初に現れた最小の要素(整数)が返されます。</p>

<h3>module_info/0</h3>

<h4>Erlang Document</h4>

<blockquote><h4>module_info</h4>

<h4>Types</h4>

<ul>
<li></li>
<li></li>
</ul>


<p><a href="http://erlang.org/doc/man/lists.html#module_info-0">参照先</a></p></blockquote>

<h4>Explain</h4>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>module_info/1</h3>

<h4>Erlang Document</h4>

<blockquote><h4>module_info</h4>

<h4>Types</h4>

<ul>
<li></li>
<li></li>
</ul>


<p><a href="http://erlang.org/doc/man/lists.html#module_info-1">参照先</a></p></blockquote>

<h4>Explain</h4>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>nth/2</h3>

<h4>Erlang Document</h4>

<blockquote><h4>nth</h4>

<h4>Types</h4>

<ul>
<li></li>
<li></li>
</ul>


<p><a href="http://erlang.org/doc/man/lists.html#nth-2">参照先</a></p></blockquote>

<h4>Explain</h4>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>nthtail/2</h3>

<h4>Erlang Document</h4>

<blockquote><h4>nthtail</h4>

<h4>Types</h4>

<ul>
<li></li>
<li></li>
</ul>


<p><a href="http://erlang.org/doc/man/lists.html#nthtail-2">参照先</a></p></blockquote>

<h4>Explain</h4>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>partition/2</h3>

<h4>Erlang Document</h4>

<blockquote><h4>partition</h4>

<h4>Types</h4>

<ul>
<li></li>
<li></li>
</ul>


<p><a href="http://erlang.org/doc/man/lists.html#partition-2">参照先</a></p></blockquote>

<h4>Explain</h4>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>prefix/2</h3>

<h4>Erlang Document</h4>

<blockquote><h4>prefix</h4>

<h4>Types</h4>

<ul>
<li></li>
<li></li>
</ul>


<p><a href="http://erlang.org/doc/man/lists.html#prefix-2">参照先</a></p></blockquote>

<h4>Explain</h4>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>reverse/1</h3>

<h4>Erlang Document</h4>

<blockquote><h4>reverse</h4>

<h4>Types</h4>

<ul>
<li></li>
<li></li>
</ul>


<p><a href="http://erlang.org/doc/man/lists.html#reverse-1">参照先</a></p></blockquote>

<h4>Explain</h4>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>reverse/2</h3>

<h4>Erlang Document</h4>

<blockquote><h4>reverse</h4>

<h4>Types</h4>

<ul>
<li></li>
<li></li>
</ul>


<p><a href="http://erlang.org/doc/man/lists.html#reverse-2">参照先</a></p></blockquote>

<h4>Explain</h4>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>rkeymerge/3</h3>

<h4>Erlang Document</h4>

<blockquote><h4>rkeymerge</h4>

<h4>Types</h4>

<ul>
<li></li>
<li></li>
</ul>


<p><a href="http://erlang.org/doc/man/lists.html#rkeymerge-3">参照先</a></p></blockquote>

<h4>Explain</h4>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<h3>rmerge/2</h3>

<h4>Erlang Document</h4>

<blockquote><h4>rmerge</h4>

<h4>Types</h4>

<ul>
<li></li>
<li></li>
</ul>


<p><a href="http://erlang.org/doc/man/lists.html#rmerge-2">参照先</a></p></blockquote>

<h4>Explain</h4>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<script type="text/javascript"><!--
google_ad_client = "ca-pub-4508687151223458";
/* octopress */
google_ad_slot = "1134799005";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>


<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40855644-1', 'github.io');
  ga('send', 'pageview');

</script>


<h3>rmerge/3</h3>

<h4>Erlang Document</h4>

<blockquote><h4>rmerge</h4>

<h4>Types</h4>

<ul>
<li></li>
<li></li>
</ul>


<p><a href="http://erlang.org/doc/man/lists.html#rmerge-3">参照先</a></p></blockquote>

<h4>Explain</h4>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<script type="text/javascript"><!--
google_ad_client = "ca-pub-4508687151223458";
/* octopress */
google_ad_slot = "1134799005";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>


<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40855644-1', 'github.io');
  ga('send', 'pageview');

</script>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Atlassianユーザーグループ #augjに行ってきた]]></title>
    <link href="http://mike-neck.github.io/blog/2013/05/23/atlassianyuzagurupu-number-augjnixing-tutekita/"/>
    <updated>2013-05-23T12:28:00+09:00</updated>
    <id>http://mike-neck.github.io/blog/2013/05/23/atlassianyuzagurupu-number-augjnixing-tutekita</id>
    <content type="html"><![CDATA[<p>みけです。</p>

<p><a href="http://www.zusaar.com/event/735003">Atlassianユーザーグループ@株式会社ロフトワーク(渋谷) #augj</a>に参加してきました。</p>

<p>今回は<a href="https://www.hipchat.com/">HipChat</a>特集です。</p>

<h1>HipChatとは</h1>

<p>Atlassianが提供するグループチャットサービスです。</p>

<p>ユーザー数が5名までは無料で使うことができます。</p>

<p>主に次のような機能があります。</p>

<ul>
<li>参加人数無制限のグループチャット</li>
<li>セキュリティ面が考慮されている</li>
<li><a href="http://hipchat-emoticons.nyh.name/">emoticons</a>と呼ばれる顔文字機能が豊富。かつ自分で追加できる。</li>
<li>ファイル共有機能(ファイル数無制限、ファイルサイズは50MBまで、画像ファイルの場合すぐに表示される)によって、迅速なコミュニケーションが可能</li>
<li>メールや各種携帯(iPhone/Android)、SMSでnotificationを送ることができる</li>
<li>Atlassianによって精力的に開発・運用されているので安心して利用できます</li>
</ul>


<h1>セッション内容まとめ</h1>

<h4>HipChat以前以後</h4>

<ul>
<li>メールだとスパムメールとかいろんなプロジェクトのメールが来たりして、まずフィルタリングしないといけないのが面倒い</li>
<li>HipChatにGitHubの情報やJenkinsの情報を連携させることによって、HipChatだけ見ればよいようになった</li>
</ul>


<h4>他のチャットツールとの比較</h4>

<ul>
<li>若者の深刻なIRC離れ(サーバ立てるの面倒い)</li>
<li>Chatter(by Salesforce)はクソ思い、Apexとか何それ状態でbotを作りづらい、クライアントがAIRで面倒い</li>
<li>Campfireは日本語検索がかなり辛い</li>
</ul>


<h4>そして突然のCrucible</h4>

<ul>
<li>Crucible単体での運用例</li>
<li>Crucibleを使う前までは会議等で実施(つまり面倒い、時間がかかる)</li>
<li>レビュー未実施・実施中・実施済みがファイル単位に管理できて、かなり便利</li>
</ul>


<h4>セッション内容などはConfluenceでみられます。</h4>

<p><a href="http://confluence.atlassian.co.jp/pages/viewpage.action?pageId=42533669">こちらをどうぞ</a></p>

<h1>HipChatいいですね</h1>

<p><strong>え、Lingrでも無料で同じ事できるって？</strong></p>

<p>そうですね。すみません。</p>

<p>そういう方はLingr使えばいいと思います。</p>

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4508687151223458";
/* octopress */
google_ad_slot = "1134799005";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>


<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40855644-1', 'github.io');
  ga('send', 'pageview');

</script>


<h1>ノベルティグッズ</h1>

<p>ブログを書くと宣言しておけばTシャツがもらえるということで</p>

<p><strong>ちなみに、TシャツはM/S/Lの順番で希望です。</strong></p>

<p>で、<span style="font-decoration : line-through;">なんか開催前にイケメンの人から</span>もらいました。</p>

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4508687151223458";
/* octopress */
google_ad_slot = "1134799005";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>


<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40855644-1', 'github.io');
  ga('send', 'pageview');

</script>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[gradle1.6からgroovyのconfigurationはdeprecatedになっています]]></title>
    <link href="http://mike-neck.github.io/blog/2013/05/22/gradle1-dot-6karagroovyfalseconfigurationhadeprecatedninatuteimasu/"/>
    <updated>2013-05-22T20:08:00+09:00</updated>
    <id>http://mike-neck.github.io/blog/2013/05/22/gradle1-dot-6karagroovyfalseconfigurationhadeprecatedninatuteimasu</id>
    <content type="html"><![CDATA[<h2>gradle1.6からgroovyのconfigurationは非推奨になっています</h2>

<p>まあ今さらですが、さきほどbuild.gradleを書いた時に、</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ gradle idea
</span><span class='line'>The groovy configuration has been deprecated and is scheduled to be removed in Gradle 2.0. Typically, usages of 'groovy' can simply be replaced with 'compile'. In some cases, it may be necessary to additionally configure the 'groovyClasspath' property of GroovyCompile and Groovydoc tasks.
</span><span class='line'>:ideaModule
</span><span class='line'>Download http://repo1.maven.org/maven2/org/codehaus/groovy/groovy-all/2.1.3/groovy-all-2.1.3.pom
</span><span class='line'>Download http://repo1.maven.org/maven2/org/codehaus/groovy/groovy-all/2.1.3/groovy-all-2.1.3-sources.jar
</span><span class='line'>Download http://repo1.maven.org/maven2/org/codehaus/groovy/groovy-all/2.1.3/groovy-all-2.1.3.jar
</span><span class='line'>:ideaProject
</span><span class='line'>:ideaWorkspace
</span><span class='line'>:idea
</span><span class='line'>
</span><span class='line'>BUILD SUCCESSFUL
</span><span class='line'>
</span><span class='line'>Total time: 11.174 secs
</span><span class='line'>$ </span></code></pre></td></tr></table></div></figure>


<p>と表示されたので、「うぉっ」と思ってドキュメントを読んでみました。</p>

<p><a href="http://www.gradle.org/docs/current/release-notes#groovy-configuration-is-deprecated">groovy configuration is deprecated</a></p>

<p>じゃあ、今後どうするのかというと、</p>

<h1>compile configurationにgroovyのartifactを指定する</h1>

<p>ということです。</p>

<p>つまり、これまでは</p>

<figure class='code'><figcaption><span>build.gradle</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="n">dependencies</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">groovy</span> <span class="o">:</span> <span class="s1">&#39;org.codehaus:groovy:groovy-all:2.1.3&#39;</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>と書いていましたが、</p>

<figure class='code'><figcaption><span>build.gradle</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="n">dependencies</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">compile</span> <span class="o">:</span> <span class="s1">&#39;org.codehaus.groovy:groovy-all:2.1.3&#39;</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>と書けばよいようです。</p>

<table>
<tbody>
<tr>
<td><iframe src="http://rcm-jp.amazon.co.jp/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=kkkjkrt-22&o=9&p=8&l=as4&m=amazon&f=ifr&ref=ss_til&asins=B009X5KIFK" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
</td>
<td><iframe src="http://rcm-jp.amazon.co.jp/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=kkkjkrt-22&o=9&p=8&l=as4&m=amazon&f=ifr&ref=ss_til&asins=3864900492" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
</td>
<td><iframe src="http://rcm-jp.amazon.co.jp/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=kkkjkrt-22&o=9&p=8&l=as4&m=amazon&f=ifr&ref=ss_til&asins=1617291307" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
</td>
</tr>
</tbody>
</table>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[プログラマーのための会計知識・用語 - (2)]]></title>
    <link href="http://mike-neck.github.io/blog/2013/05/18/puroguramafalsetamefalsehui-ji-zhi-shi-yong-yu-2/"/>
    <updated>2013-05-18T15:04:00+09:00</updated>
    <id>http://mike-neck.github.io/blog/2013/05/18/puroguramafalsetamefalsehui-ji-zhi-shi-yong-yu-2</id>
    <content type="html"><![CDATA[<h2>普通のエンタープライズ系プログラマーであれば、会計用語はちゃんと英語で覚えているものですよね(白目</h2>

<p><img src="http://img5.blogs.yahoo.co.jp/ybi/1/9f/9a/fpdxw092/folder/1455483/img_1455483_52010810_1?1205033611"></p>

<p>僕は<a href="http://mike-neck.github.io/blog/2013/05/13/puroguramafalsetamefalsehui-ji-zhi-shi-yong-yu-1/">前</a>にも言ったとおりに、</p>

<p>出来損ないのエンタープライズ系プログラマーなので、</p>

<p>アメリカの中学生向けの会計の簡単な本で勉強しています。</p>

<iframe src="http://rcm-jp.amazon.co.jp/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=kkkjkrt-22&o=9&p=8&l=as4&m=amazon&f=ifr&ref=ss_til&asins=0071779752" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>


<p>この本の第二章に書かれていることをまとめてみます。</p>

<h2>会計の基本用語</h2>

<ul>
<li>勘定 : <strong>Account</strong></li>
<li>勘定科目 : <strong>Account Titile</strong></li>
<li>借方 : <strong>Debit</strong></li>
<li>貸方 : <strong>Credit</strong></li>
<li>総勘定元帳 : <strong>Ledger</strong></li>
<li>勘定科目一覧 : <strong>The Chart of Accounts</strong></li>
<li>仕訳 : <strong>Journal</strong></li>
<li>複式簿記 : <strong>Double-Entry Bookkeeping</strong></li>
<li>試算表 : <strong>Trial balance</strong></li>
</ul>


<h4><a href="http://mike-neck.github.io/blog/2013/05/13/puroguramafalsetamefalsehui-ji-zhi-shi-yong-yu-1/">前回の復習</a></h4>

<ul>
<li>資産 : <strong>Assets</strong></li>
<li>負債 : <strong>Liabilities</strong></li>
<li>資本 : <strong>Capital</strong></li>
</ul>


<h2>借方と貸方の決まり事 (<strong>Convention</strong>)</h2>

<p>エンタープライズ系プログラマーなら当然わかっていると思いますが…</p>

<p>勘定科目(<strong>Account Title</strong>)は借方科目なのか貸方科目なのか決まっていますね。</p>

<h4>借方系の勘定 (<strong>The Account to be debited</strong>)</h4>

<ul>
<li>資産(<strong>Asset</strong>)の増加</li>
<li>費用(<strong>Expense</strong>)の増加</li>
<li>負債(<strong>Liabilities</strong>)の減少</li>
<li>資本(<strong>Capital</strong>)の減少</li>
<li>収入(<strong>Income</strong>)の減少</li>
</ul>


<h4>借方系の勘定 (<strong>The Account to be credited</strong>)</h4>

<ul>
<li>負債(<strong>Liabilities</strong>)の増加</li>
<li>資本(<strong>Capital</strong>)の増加</li>
<li>収入(<strong>Income</strong>)の増加</li>
<li>資産(<strong>Asset</strong>)の減少</li>
<li>費用(<strong>Expense</strong>)の減少</li>
</ul>


<h2>会計のドメインモデルを作ってみる</h2>

<p>ここまで来たら、もう会計のドメインモデル作れますね。</p>

<h4>勘定</h4>

<figure class='code'><figcaption><span>Account.groovy</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="nd">@Cannonical</span>
</span><span class='line'><span class="kd">class</span> <span class="nc">Account</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">String</span> <span class="n">title</span>
</span><span class='line'>    <span class="n">AccountChart</span> <span class="n">accountChart</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<h4>取引</h4>

<figure class='code'><figcaption><span>Transaction.groovy</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="nd">@Cannonical</span>
</span><span class='line'><span class="kd">class</span> <span class="nc">Transaction</span> <span class="o">{</span>
</span><span class='line'>    <span class="kt">long</span> <span class="n">id</span>
</span><span class='line'>    <span class="n">Date</span> <span class="n">date</span>
</span><span class='line'>    <span class="n">Debit</span> <span class="n">debit</span>
</span><span class='line'>    <span class="n">Credit</span> <span class="n">credit</span>
</span><span class='line'>    <span class="n">String</span> <span class="n">memo</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<h4>借方</h4>

<figure class='code'><figcaption><span>Debit.groovy</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="nd">@ToString</span>
</span><span class='line'><span class="kd">class</span> <span class="nc">Debit</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">Account</span> <span class="n">item</span>
</span><span class='line'>    <span class="kt">int</span> <span class="n">value</span>
</span><span class='line'>    <span class="n">String</span> <span class="n">memo</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<h4>貸方</h4>

<figure class='code'><figcaption><span>Credit.groovy</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="nd">@ToString</span>
</span><span class='line'><span class="kd">class</span> <span class="nc">Credit</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">Account</span> <span class="n">item</span>
</span><span class='line'>    <span class="kt">int</span> <span class="n">value</span>
</span><span class='line'>    <span class="n">String</span> <span class="n">memo</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>借方と貸方でクラスの構造が全く同じなので、</p>

<p>訓練されたSIer諸氏に於いては同じクラスを使おうと言い出すとおもいます。</p>

<p>しかし、java-ja.dddで増田さんがおっしゃっていたとおり、</p>

<p>借方と貸方は別物なので、別のクラスにします。</p>

<p><a href="https://gist.github.com/yamashiro/5230921">java-ja.dddのまとめについてはこちら</a></p>

<h4>勘定科目</h4>

<figure class='code'><figcaption><span>AccountChart.groovy</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="kd">enum</span> <span class="n">AccountChart</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">ASSET</span><span class="o">{</span>
</span><span class='line'>        <span class="n">AccountConvention</span> <span class="nf">increase</span><span class="o">()</span> <span class="o">{</span><span class="n">AccountConvention</span><span class="o">.</span><span class="na">DEBIT</span><span class="o">}</span>
</span><span class='line'>        <span class="n">AccountConvention</span> <span class="nf">decrease</span><span class="o">()</span> <span class="o">{</span><span class="n">AccountConvention</span><span class="o">.</span><span class="na">CREDIT</span><span class="o">}</span>
</span><span class='line'>    <span class="o">},</span> <span class="n">EXPENSE</span><span class="o">{</span>
</span><span class='line'>        <span class="n">AccountConvention</span> <span class="nf">increase</span><span class="o">()</span> <span class="o">{</span><span class="n">AccountConvention</span><span class="o">.</span><span class="na">DEBIT</span><span class="o">}</span>
</span><span class='line'>        <span class="n">AccountConvention</span> <span class="nf">decrease</span><span class="o">()</span> <span class="o">{</span><span class="n">AccountConvention</span><span class="o">.</span><span class="na">CREDIT</span><span class="o">}</span>
</span><span class='line'>    <span class="o">},</span> <span class="n">LIABILITIES</span><span class="o">{</span>
</span><span class='line'>        <span class="n">AccountConvention</span> <span class="nf">increase</span><span class="o">()</span> <span class="o">{</span><span class="n">AccountConvention</span><span class="o">.</span><span class="na">CREDIT</span><span class="o">}</span>
</span><span class='line'>        <span class="n">AccountConvention</span> <span class="nf">decrease</span><span class="o">()</span> <span class="o">{</span><span class="n">AccountConvention</span><span class="o">.</span><span class="na">DEBIT</span><span class="o">}</span>
</span><span class='line'>    <span class="o">},</span> <span class="n">CAPITAL</span><span class="o">{</span>
</span><span class='line'>        <span class="n">AccountConvention</span> <span class="nf">increase</span><span class="o">()</span> <span class="o">{</span><span class="n">AccountConvention</span><span class="o">.</span><span class="na">CREDIT</span><span class="o">}</span>
</span><span class='line'>        <span class="n">AccountConvention</span> <span class="nf">decrease</span><span class="o">()</span> <span class="o">{</span><span class="n">AccountConvention</span><span class="o">.</span><span class="na">DEBIT</span><span class="o">}</span>
</span><span class='line'>    <span class="o">},</span> <span class="n">INCOME</span><span class="o">{</span>
</span><span class='line'>        <span class="n">AccountConvention</span> <span class="nf">increase</span><span class="o">()</span> <span class="o">{</span><span class="n">AccountConvention</span><span class="o">.</span><span class="na">CREDIT</span><span class="o">}</span>
</span><span class='line'>        <span class="n">AccountConvention</span> <span class="nf">decrease</span><span class="o">()</span> <span class="o">{</span><span class="n">AccountConvention</span><span class="o">.</span><span class="na">DEBIT</span><span class="o">}</span>
</span><span class='line'>    <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<h4>勘定の決まりごと</h4>

<figure class='code'><figcaption><span>AccountConveintion.groovy</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="kd">enum</span> <span class="n">AccountConvention</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">DEBIT</span><span class="o">,</span> <span class="n">CREDIT</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>この二つのクラスを書いていて、<code>Debit</code>とか<code>Credit</code>のクラスを生成するメソッドはこのあたりにあるといいなと思ってきた。</p>

<p>例えば、費用が増加した場合</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='groovy'><span class='line'><span class="n">AccountChart</span><span class="o">.</span><span class="na">EXPENSE</span>
</span><span class='line'>        <span class="o">.</span><span class="na">increase</span><span class="o">()</span>
</span><span class='line'>        <span class="o">.</span><span class="na">by</span><span class="o">(</span><span class="s1">&#39;売上原価&#39;</span><span class="o">,</span> <span class="s1">&#39;商品が売れた&#39;</span><span class="o">)</span>
</span><span class='line'>        <span class="o">.</span><span class="na">for</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">asCredit</span><span class="o">())</span>
</span></code></pre></td></tr></table></div></figure>


<p>という感じで書きたいですね。</p>

<p>そうすると、<code>AccountChart.groovy</code>を少し直さないといけないですね…</p>

<h2>以下、宿題</h2>

<h4>Rearrange the following list of accounts and produce a trial balance.</h4>

<ul>
<li>Accounts Payable(900)</li>
<li>Accounts Receivable(1,400)</li>
<li>Capital(3,200)</li>
<li>Cash(2,000)</li>
<li>Drawing(400)</li>
<li>Equipment(1,800)</li>
<li>Fees income(2,600)</li>
<li>General expense(100)</li>
<li>Notes Payable(1,100)</li>
<li>Rent expense(500)</li>
<li>Salaries expense(800)</li>
<li>Supplies(600)</li>
<li>Supplies expense(200)</li>
</ul>


<script type="text/javascript"><!--
google_ad_client = "ca-pub-4508687151223458";
/* octopress */
google_ad_slot = "1134799005";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>


<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40855644-1', 'github.io');
  ga('send', 'pageview');

</script>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[SourceTreeで細かくコミットする]]></title>
    <link href="http://mike-neck.github.io/blog/2013/05/18/sourcetreedexi-kakukomitutosuru/"/>
    <updated>2013-05-18T12:58:00+09:00</updated>
    <id>http://mike-neck.github.io/blog/2013/05/18/sourcetreedexi-kakukomitutosuru</id>
    <content type="html"><![CDATA[<h1>gitのコミットの粒度はなるべく細かいほうがいいですよね</h1>

<p>こんにちわ、みけです。</p>

<p>今日はgitの話です。</p>

<p>表題にあるようにgitは細かくコミットしたほうがよいです。</p>

<p>なぜなら、</p>

<ul>
<li>mergeが簡単にできる</li>
<li>やらかした時に細かいレベルで元に戻れる</li>
<li>細かければpushするときにまとめればいいや的な</li>
</ul>


<p>といったメリットがあるからと思っています。</p>

<p>詳細はこっちの記事読んだほうがいいです。</p>

<ul>
<li><a href="http://d.hatena.ne.jp/irof/20120905/p1">gitのcommitは軽く考えとく &ndash; 日々常々</a></li>
<li><a href="http://d.hatena.ne.jp/kyon_mm/20120905/1346829171">「git commit するまえに考えるべき10のこと」がDVCS的じゃない件 &ndash; うさぎ組</a></li>
<li><a href="http://forza.cocolog-nifty.com/blog/2012/09/post-fdab.html">コミットの粒度 &ndash; プログラマの思索</a></li>
<li><a href="http://d.hatena.ne.jp/Yamashiro0217/20120903/1346640190">git flow でのチーム開発ワークショップ資料 &ndash; Yamashiro0217の日記</a></li>
<li><a href="http://hiroki.jp/2012/09/05/5523/">git commit するまえに考えるべき10のこと &ndash; Act as Professional</a></li>
</ul>


<h3>いや、そんなこと言ったってコミット頻繁にしてないっすよ</h3>

<p>これ、僕のことで、そもそもコミットを頻繁にしていないので、Work Treeに変更がたくさん溜まってしまいます。</p>

<p>そうすると、僕のようなdullな人が<code>git add</code>する時は<code>git add -p</code>で小分けにしながらステージに載せていくのですが、Hunkのサイズを変えるのに一々<code>git add -p</code>の後に<code>s</code>をしているとわりと面倒い。(<a href="http://stackoverflow.com/questions/1122210/can-i-modify-git-adds-hunk-size">参考 &ndash; Can I modify git-add&rsquo;s hunk size?</a>)</p>

<p>まあ、かといって、「gitできない奴はVSSでもやってろよ」とか言われると辛い…</p>

<h3>そこでSourceTreeですよ</h3>

<p>Atlassianの回し者ではありませんが、SourceTreeがそんな僕には便利です。</p>

<h4>変更が溜まりに溜まったwork tree</h4>

<p><a href="https://googledrive.com/host/0B4hhdHWLP7RRZ2hCam1Wa3BLVjA"><img src="https://googledrive.com/host/0B4hhdHWLP7RRZ2hCam1Wa3BLVjA" width="313" height="234"></a></p>

<h4>hunkがでかすぎるので小さくします。</h4>

<p><a href="https://googledrive.com/host/0B4hhdHWLP7RRdEN5VTRHVE5hNVU"><img src="https://googledrive.com/host/0B4hhdHWLP7RRdEN5VTRHVE5hNVU" width="364" height="304"></a></p>

<h4>hunkが細かくなります。</h4>

<p><a href="https://googledrive.com/host/0B4hhdHWLP7RRanRRZjA2VVh6eXc"><img src="https://googledrive.com/host/0B4hhdHWLP7RRanRRZjA2VVh6eXc" width="362" height="270"></a></p>

<h4>さらに行単位で変更を選びます</h4>

<p><a href="https://googledrive.com/host/0B4hhdHWLP7RRdTVodnZ6MDF1c1U"><img src="https://googledrive.com/host/0B4hhdHWLP7RRdTVodnZ6MDF1c1U" width="364" height="68"></a></p>

<h4>意味のある単位にまとまったのでコミットします</h4>

<p><a href="https://googledrive.com/host/0B4hhdHWLP7RRUEQ3bnkxTTVzQ0E"><img src="https://googledrive.com/host/0B4hhdHWLP7RRUEQ3bnkxTTVzQ0E" width="412" height="234"></a></p>

<p>commitボタンを推します。</p>

<p><a href="https://googledrive.com/host/0B4hhdHWLP7RRc1ZUQlV3akplUFU"><img src="https://googledrive.com/host/0B4hhdHWLP7RRc1ZUQlV3akplUFU" width="333" height="270"></a></p>

<h4>適度な粒度でコミットしたのでプッシュします。</h4>

<p><a href="https://googledrive.com/host/0B4hhdHWLP7RRcHI5NGt0aksyZVk"><img src="https://googledrive.com/host/0B4hhdHWLP7RRcHI5NGt0aksyZVk" width="310" height="175"></a></p>

<p>pushボタンのところにプッシュされていないコミットの数が出ています。</p>

<p>pushボタンを押してプッシュします。</p>

<p><a href="https://googledrive.com/host/0B4hhdHWLP7RRdEJ2aGhZeGM2LVU"><img src="https://googledrive.com/host/0B4hhdHWLP7RRdEJ2aGhZeGM2LVU" width="446" height="180"></a></p>

<p>プッシュ完了すると、ローカルとリモートが一致した状態になります。</p>

<p><a href="https://googledrive.com/host/0B4hhdHWLP7RRd18wb2JRNWxFYkU"><img src="https://googledrive.com/host/0B4hhdHWLP7RRd18wb2JRNWxFYkU" width="471" height="90"></a></p>

<h3>細かい粒度でコミット出来ましたね</h3>

<ul>
<li>SourceTree、マジ便利、マジ神、ハンパないです。</li>
<li>いや、そもそもそんなにWork Treeに変更を溜め込むなという話ですね…</li>
</ul>


<table>
<tr>
<td style="padding : 2px;"><iframe src="http://rcm-jp.amazon.co.jp/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=kkkjkrt-22&o=9&p=8&l=as4&m=amazon&f=ifr&ref=ss_til&asins=4798023809" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
</td>
<td style="padding : 2px;"><iframe src="http://rcm-jp.amazon.co.jp/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=kkkjkrt-22&o=9&p=8&l=as4&m=amazon&f=ifr&ref=ss_til&asins=4798035009" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
</td>
<td style="padding : 2px;"><iframe src="http://rcm-jp.amazon.co.jp/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=kkkjkrt-22&o=9&p=8&l=as4&m=amazon&f=ifr&ref=ss_til&asins=477415184X" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
</td>
</tr>
<tr>
<td style="padding : 2px;"><iframe src="http://rcm-jp.amazon.co.jp/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=kkkjkrt-22&o=9&p=8&l=as4&m=amazon&f=ifr&ref=ss_til&asins=4274068641" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
</td>
<td style="padding : 2px;"><iframe src="http://rcm-jp.amazon.co.jp/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=kkkjkrt-22&o=9&p=8&l=as4&m=amazon&f=ifr&ref=ss_til&asins=4873114403" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
</td>
<td style="padding : 2px;"><iframe src="http://rcm-jp.amazon.co.jp/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=kkkjkrt-22&o=9&p=8&l=as4&m=amazon&f=ifr&ref=ss_til&asins=427406767X" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
</td>
</tr>
</table>




<script type="text/javascript"><!--
google_ad_client = "ca-pub-4508687151223458";
/* octopress */
google_ad_slot = "1134799005";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>


<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40855644-1', 'github.io');
  ga('send', 'pageview');

</script>




<br/>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Erlangのlistsモジュールを試してみる - 第2回]]></title>
    <link href="http://mike-neck.github.io/blog/2013/05/14/erlangfalselistsmoziyuruwoshi-sitemiru-di-2hui/"/>
    <updated>2013-05-14T14:01:00+09:00</updated>
    <id>http://mike-neck.github.io/blog/2013/05/14/erlangfalselistsmoziyuruwoshi-sitemiru-di-2hui</id>
    <content type="html"><![CDATA[<p>Erlangのlistsモジュールを試してみるの第二回は次のコマンドの結果について試していきます。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="nn">lists</span><span class="p">:</span><span class="nf">sublist</span><span class="p">(</span>
</span><span class='line'>    <span class="nn">lists</span><span class="p">:</span><span class="nf">sort</span><span class="p">(</span>
</span><span class='line'>        <span class="nn">lists</span><span class="p">:</span><span class="nf">map</span><span class="p">(</span>
</span><span class='line'>            <span class="k">fun</span><span class="p">({</span><span class="nv">F</span><span class="p">,</span> <span class="nv">A</span><span class="p">})</span> <span class="o">-&gt;</span>
</span><span class='line'>                <span class="nb">atom_to_list</span><span class="p">(</span><span class="nv">F</span><span class="p">)</span> <span class="o">++</span>
</span><span class='line'>                <span class="s">&quot;/&quot;</span> <span class="o">++</span>
</span><span class='line'>                <span class="nb">integer_to_list</span><span class="p">(</span><span class="nv">A</span><span class="p">)</span>
</span><span class='line'>            <span class="k">end</span><span class="p">,</span>
</span><span class='line'>            <span class="nn">lists</span><span class="p">:</span><span class="nf">module_info</span><span class="p">(</span><span class="n">exports</span><span class="p">))),</span>
</span><span class='line'>    <span class="mi">17</span><span class="p">,</span>
</span><span class='line'>    <span class="mi">16</span><span class="p">).</span>
</span></code></pre></td></tr></table></div></figure>


<p>結果</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="p">[</span>
</span><span class='line'>  <span class="s">&quot;keydelete/3&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;keyfind/3&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;keymap/3&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;keymember/3&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;keymerge/3&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;keyreplace/4&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;keysearch/3&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;keysort/2&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;keystore/4&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;keytake/3&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;last/1&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;map/2&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;mapfoldl/3&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;mapfoldr/3&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;max/1&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;member/2&quot;</span>
</span><span class='line'><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>です。</p>

<h3>keydelete/3</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>keydelete(Key, N, TupleList1) &ndash;> TupleList2</h4>

<h4>Types</h4>

<ul>
<li>Key = term()</li>
<li>N = integer() >= 1 (1..tuple_size(Tuple))</li>
<li>TupleList1 = TupleList2 = [Tuple]</li>
<li>Tuple = tuple()</li>
</ul>


<p>Returns a copy of TupleList1 where the first occurrence of a tuple whose Nth element compares equal to Key is deleted, if there is such a tuple.</p>

<p><a href="http://erlang.org/doc/man/lists.html#keydelete-3">参照元</a></p></blockquote>

<h4>Explain</h4>

<p>引数に与えられたタプルのリストのコピーを返します。ただし、リスト中のタプルで、タプルのN番目の要素が引数Keyと同じ値のもので最も先頭に近いものは取り除かれます。</p>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">keydelete</span><span class="p">(</span><span class="n">jim</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="p">[</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">mike</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="n">programmer</span><span class="p">},</span> <span class="p">{</span><span class="n">jim</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="n">engineer</span><span class="p">},</span> <span class="p">{</span><span class="n">tim</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="n">scientist</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">bob</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="n">officer</span><span class="p">},</span> <span class="p">{</span><span class="n">lod</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="n">dentist</span><span class="p">},</span> <span class="p">{</span><span class="n">iwan</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="n">evangelist</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">simon</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="n">typist</span><span class="p">},</span> <span class="p">{</span><span class="n">dag</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="n">student</span><span class="p">},</span> <span class="p">{</span><span class="n">jack</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="n">programmer</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">john</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="n">engineer</span><span class="p">},</span> <span class="p">{</span><span class="n">mike</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="n">scientist</span><span class="p">},</span> <span class="p">{</span><span class="n">jim</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="n">officer</span><span class="p">}</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="p">]).</span>
</span><span class='line'><span class="p">[{</span><span class="n">mike</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="n">programmer</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">tim</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="n">scientist</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">bob</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="n">officer</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">lod</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="n">dentist</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">iwan</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="n">evangelist</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">simon</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="n">typist</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">dag</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="n">student</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">jack</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="n">programmer</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">john</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="n">engineer</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">mike</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="n">scientist</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">jim</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="n">officer</span><span class="p">}]</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">keydelete</span><span class="p">(</span><span class="n">madscientist</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="p">[</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">mike</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="n">programmer</span><span class="p">},</span> <span class="p">{</span><span class="n">jim</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="n">engineer</span><span class="p">},</span> <span class="p">{</span><span class="n">tim</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="n">scientist</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">bob</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="n">officer</span><span class="p">},</span> <span class="p">{</span><span class="n">lod</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="n">dentist</span><span class="p">},</span> <span class="p">{</span><span class="n">iwan</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="n">evangelist</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">simon</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="n">typist</span><span class="p">},</span> <span class="p">{</span><span class="n">dag</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="n">student</span><span class="p">},</span> <span class="p">{</span><span class="n">jack</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="n">programmer</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">john</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="n">engineer</span><span class="p">},</span> <span class="p">{</span><span class="n">mike</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="n">scientist</span><span class="p">},</span> <span class="p">{</span><span class="n">jim</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="n">officer</span><span class="p">}</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="p">]).</span>
</span><span class='line'><span class="p">[{</span><span class="n">mike</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="n">programmer</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">jim</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="n">engineer</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">tim</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="n">scientist</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">bob</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="n">officer</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">lod</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="n">dentist</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">iwan</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="n">evangelist</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">simon</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="n">typist</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">dag</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="n">student</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">jack</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="n">programmer</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">john</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="n">engineer</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">mike</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="n">scientist</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">jim</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="n">officer</span><span class="p">}]</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">keydelete</span><span class="p">(</span><span class="n">madscientist</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="p">[</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">mike</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="n">programmer</span><span class="p">},</span> <span class="p">{</span><span class="n">jim</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="n">engineer</span><span class="p">},</span> <span class="p">{</span><span class="n">tim</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="n">scientist</span><span class="p">},</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">bob</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="n">officer</span><span class="p">},</span> <span class="p">{</span><span class="n">lod</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="n">dentist</span><span class="p">},</span> <span class="p">{</span><span class="n">iwan</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="n">evangelist</span><span class="p">},</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">john</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="n">engineer</span><span class="p">},</span> <span class="p">{</span><span class="n">mike</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="n">scientist</span><span class="p">},</span> <span class="p">{</span><span class="n">jim</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="n">officer</span><span class="p">}</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="p">]).</span>
</span><span class='line'><span class="p">[{</span><span class="n">mike</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="n">programmer</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">jim</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="n">engineer</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">tim</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="n">scientist</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">bob</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="n">officer</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">lod</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="n">dentist</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">iwan</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="n">evangelist</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">john</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="n">engineer</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">mike</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="n">scientist</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">jim</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="n">officer</span><span class="p">}]</span>
</span></code></pre></td></tr></table></div></figure>


<p>まず最初の例では、リストの中で一番最初に出てくるキーの位置<code>1</code>番目の値が<code>jim</code>であるタプルを削除したリストが返されます。元のリストで9番目のタプルも同様の条件ですが、こちらは削除されません。</p>

<p>次の例ではリストで一致しない条件で実行しています。返されるリストは何も削除されていません。</p>

<p>最後の例ではリストのタプルの要素数より多い番号を指定して削除を実施します。もちろん、返されるリストは何も削除されていません。</p>

<h3>keyfind/3</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>keyfind(Key, N, TupleList) &ndash;> Tuple | false</h4>

<h4>Types</h4>

<ul>
<li>Key = term()</li>
<li>N = integer() >= 1 (1..tuple_size(Tuple))</li>
<li>TupleList = [Tuple]</li>
<li>Tuple = tuple()</li>
</ul>


<p>Searches the list of tuples TupleList for a tuple whose Nth element compares equal to Key. Returns Tuple if such a tuple is found, otherwise false.</p>

<p><a href="http://erlang.org/doc/man/lists.html#keyfind-3">参照元</a></p></blockquote>

<h4>Explain</h4>

<p>タプルのリストから指定位置の要素について<code>Key</code>に一致する最初のタプルを返します。</p>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">keyfind</span><span class="p">(</span><span class="mi">36</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="p">[</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">mike</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="n">programmer</span><span class="p">},</span> <span class="p">{</span><span class="n">jim</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="n">engineer</span><span class="p">},</span> <span class="p">{</span><span class="n">tim</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="n">scientist</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">bob</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="n">officer</span><span class="p">},</span> <span class="p">{</span><span class="n">lod</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="n">dentist</span><span class="p">},</span> <span class="p">{</span><span class="n">iwan</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="n">evangelist</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">simon</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="n">typist</span><span class="p">},</span> <span class="p">{</span><span class="n">dag</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="n">student</span><span class="p">},</span> <span class="p">{</span><span class="n">jack</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="n">programmer</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">john</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="n">engineer</span><span class="p">},</span> <span class="p">{</span><span class="n">mike</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="n">scientist</span><span class="p">},</span> <span class="p">{</span><span class="n">jim</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="n">officer</span><span class="p">}</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="p">]).</span>
</span><span class='line'><span class="p">{</span><span class="n">bob</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="n">officer</span><span class="p">}</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">keyfind</span><span class="p">(</span><span class="n">jim</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="p">[</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">mike</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="n">programmer</span><span class="p">},</span> <span class="p">{</span><span class="n">jim</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="n">engineer</span><span class="p">},</span> <span class="p">{</span><span class="n">tim</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="n">scientist</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">bob</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="n">officer</span><span class="p">},</span> <span class="p">{</span><span class="n">lod</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="n">dentist</span><span class="p">},</span> <span class="p">{</span><span class="n">iwan</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="n">evangelist</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">simon</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="n">typist</span><span class="p">},</span> <span class="p">{</span><span class="n">dag</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="n">student</span><span class="p">},</span> <span class="p">{</span><span class="n">jack</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="n">programmer</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">john</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="n">engineer</span><span class="p">},</span> <span class="p">{</span><span class="n">mike</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="n">scientist</span><span class="p">},</span> <span class="p">{</span><span class="n">jim</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="n">officer</span><span class="p">}</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="p">]).</span>
</span><span class='line'><span class="p">{</span><span class="n">jim</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="n">engineer</span><span class="p">}</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">keyfind</span><span class="p">(</span><span class="n">madscientist</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="p">[</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">mike</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="n">programmer</span><span class="p">},</span> <span class="p">{</span><span class="n">jim</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="n">engineer</span><span class="p">},</span> <span class="p">{</span><span class="n">tim</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="n">scientist</span><span class="p">},</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">bob</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="n">officer</span><span class="p">},</span> <span class="p">{</span><span class="n">lod</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="n">dentist</span><span class="p">},</span> <span class="p">{</span><span class="n">iwan</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="n">evangelist</span><span class="p">},</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">simon</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="n">typist</span><span class="p">},</span> <span class="p">{</span><span class="n">dag</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="n">student</span><span class="p">},</span> <span class="p">{</span><span class="n">jack</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="n">programmer</span><span class="p">},</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">john</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="n">engineer</span><span class="p">},</span> <span class="p">{</span><span class="n">mike</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="n">scientist</span><span class="p">},</span> <span class="p">{</span><span class="n">jim</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="n">officer</span><span class="p">}</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="p">]).</span>
</span><span class='line'><span class="n">false</span>
</span></code></pre></td></tr></table></div></figure>


<p>最初の例ではタプルの二番目の値が<code>36</code>のものを探して、返します。</p>

<p>次の例ではタプルの最初の値が<code>jim</code>のものを探して返しますが、9番目に現れるものは返されません。</p>

<p>最後の例では一致するものがない条件で検索を行いますが、存在しないため<code>false</code>が返ってきます。</p>

<h3>keymap/3</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>keymap(Fun, N, TupleList1) &ndash;> TupleList2</h4>

<h4>Types</h4>

<ul>
<li>Fun = fun((Term1 :: term()) &ndash;> Term2 :: term())</li>
<li>N = integer() >= 1 (1..tuple_size(Tuple))</li>
<li>TupleList1 = TupleList2 = [Tuple]</li>
<li>Tuple = tuple()</li>
</ul>


<p>Returns a list of tuples where, for each tuple in TupleList1, the Nth element Term1 of the tuple has been replaced with the result of calling Fun(Term1).</p>

<p><a href="http://erlang.org/doc/man/lists.html#keymap-3">参照元</a></p></blockquote>

<h4>Explain</h4>

<p>タプルに対して指定した位置の要素に、引数で渡した関数を実行した結果が入れられた、新しいタプルのリストが返されます。</p>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nv">IsProgrammer</span> <span class="o">=</span> <span class="k">fun</span><span class="p">(</span><span class="nv">X</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nv">X</span> <span class="o">=:=</span> <span class="n">programmer</span> <span class="k">end</span><span class="p">.</span>
</span><span class='line'><span class="err">#</span><span class="nv">Fun</span><span class="o">&lt;</span><span class="n">erl_eval</span><span class="p">.</span><span class="mi">6</span><span class="p">.</span><span class="mi">17052888</span><span class="o">&gt;</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">keymap</span><span class="p">(</span><span class="nv">IsProgrammer</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="p">[</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">mike</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="n">programmer</span><span class="p">},</span> <span class="p">{</span><span class="n">jim</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="n">engineer</span><span class="p">},</span> <span class="p">{</span><span class="n">tim</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="n">scientist</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">bob</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="n">officer</span><span class="p">},</span> <span class="p">{</span><span class="n">lod</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="n">dentist</span><span class="p">},</span> <span class="p">{</span><span class="n">iwan</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="n">evangelist</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">simon</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="n">typist</span><span class="p">},</span> <span class="p">{</span><span class="n">dag</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="n">student</span><span class="p">},</span> <span class="p">{</span><span class="n">jack</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="n">programmer</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>     <span class="p">{</span><span class="n">john</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="n">engineer</span><span class="p">},</span> <span class="p">{</span><span class="n">mike</span><span class="p">,</span> <span class="mi">27</span><span class="p">,</span> <span class="n">scientist</span><span class="p">},</span> <span class="p">{</span><span class="n">jim</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="n">officer</span><span class="p">}</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="p">]).</span>
</span><span class='line'><span class="p">[{</span><span class="n">mike</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="n">true</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">jim</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="n">false</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">tim</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="n">false</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">bob</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="n">false</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">lod</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="n">false</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">iwan</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="n">false</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">simon</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="n">false</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">dag</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="n">false</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">jack</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="n">true</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">john</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="n">false</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">mike</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="n">false</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">jim</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="n">false</span><span class="p">}]</span>
</span></code></pre></td></tr></table></div></figure>


<p>この例ではタプルの3番目の要素がprogrammerならtrueに変換し、そうでなければfalseに変換した新しいタプルのリストを返します。</p>

<h3>keymember/3</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>keymember(Key, N, TupleList) &ndash;> boolean()</h4>

<h4>Types</h4>

<ul>
<li>Key = term()</li>
<li>N = integer() >= 1 (1..tuple_size(Tuple))</li>
<li>TupleList = [Tuple]</li>
<li>Tuple = tuple()</li>
</ul>


<p>Returns true if there is a tuple in TupleList whose Nth element compares equal to Key, otherwise false.</p>

<p><a href="http://erlang.org/doc/man/lists.html#keymember-3">参照元</a></p></blockquote>

<h4>Explain</h4>

<p>指定位置に<code>Key</code>を含むタプルがリスト中にあれば<code>true</code>、なければ<code>false</code>が返ってきます。</p>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">keymember</span><span class="p">(</span><span class="n">bob</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="p">[{</span><span class="n">mike</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="n">programmer</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">jim</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="n">engineer</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">tim</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="n">scientist</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">bob</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="n">officer</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">lod</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="n">dentist</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">iwan</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="n">evangelist</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">simon</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="n">typist</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">dag</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="n">student</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">jack</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="n">programmer</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">john</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="n">engineer</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">mike</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="n">scientist</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">jim</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="n">officer</span><span class="p">}</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="p">]).</span>
</span><span class='line'><span class="n">true</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">keymember</span><span class="p">(</span><span class="n">madscientist</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="p">[</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">mike</span><span class="p">,</span><span class="mi">32</span><span class="p">,</span><span class="n">programmer</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">jim</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="n">engineer</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">tim</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="n">scientist</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">bob</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="n">officer</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">lod</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="n">dentist</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">iwan</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="n">evangelist</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">simon</span><span class="p">,</span><span class="mi">36</span><span class="p">,</span><span class="n">typist</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">dag</span><span class="p">,</span><span class="mi">34</span><span class="p">,</span><span class="n">student</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">jack</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="n">programmer</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">john</span><span class="p">,</span><span class="mi">21</span><span class="p">,</span><span class="n">engineer</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">mike</span><span class="p">,</span><span class="mi">27</span><span class="p">,</span><span class="n">scientist</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">jim</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="n">officer</span><span class="p">}</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="p">]).</span>
</span><span class='line'><span class="n">false</span>
</span></code></pre></td></tr></table></div></figure>


<p>最初の例では、1番目の要素が<code>bob</code>であるタプルがリスト中に含まれていますので、<code>true</code>が返されます。</p>

<p>次の例では、3番目の要素が<code>madscientist</code>のタプルはリスト中に含まれていないので、<code>false</code>が返されます。</p>

<h3>keymerge/3</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>keymerge(N, TupleList1, TupleList2) &ndash;> TupleList3</h4>

<h4>Types</h4>

<ul>
<li>N = integer() >= 1 (1..tuple_size(Tuple))</li>
<li>TupleList1 = [T1]</li>
<li>TupleList2 = [T2]</li>
<li>TupleList3 = [(T1 | T2)]</li>
<li>T1 = T2 = Tuple</li>
<li>Tuple = tuple()</li>
</ul>


<p>Returns the sorted list formed by merging TupleList1 and TupleList2. The merge is performed on the Nth element of each tuple. Both TupleList1 and TupleList2 must be key-sorted prior to evaluating this function. When two tuples compare equal, the tuple from TupleList1 is picked before the tuple from TupleList2.</p>

<p><a href="http://erlang.org/doc/man/lists.html#keymerge-3">参照元</a></p></blockquote>

<h4>Explain</h4>

<p>この関数は引数で与えられた二つのタプルリストをソートしてマージした状態で返します。ソートのキーは引数の<code>N</code>番目の要素になります。引数に与えられるタプルリストは事前にソートされていることが求められます。双方のタプルでキーの値が一致する場合、左側の引数のリストから取られたタプルが右のものに優先されます。</p>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">keymerge</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>   <span class="p">[{</span><span class="n">a</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="n">d</span><span class="p">,</span> <span class="mi">1</span><span class="p">}],</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>   <span class="p">[{</span><span class="n">b</span><span class="p">,</span> <span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="n">d</span><span class="p">,</span> <span class="mi">2</span><span class="p">}]).</span>
</span><span class='line'><span class="p">[{</span><span class="n">a</span><span class="p">,</span><span class="mi">1</span><span class="p">},{</span><span class="n">b</span><span class="p">,</span><span class="mi">2</span><span class="p">},{</span><span class="n">c</span><span class="p">,</span><span class="mi">1</span><span class="p">},{</span><span class="n">d</span><span class="p">,</span><span class="mi">1</span><span class="p">},{</span><span class="n">d</span><span class="p">,</span><span class="mi">2</span><span class="p">}]</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">keymerge</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>   <span class="p">[{</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="n">d</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="n">e</span><span class="p">,</span> <span class="mi">1</span><span class="p">}],</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>   <span class="p">[{</span><span class="n">t</span><span class="p">,</span> <span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="n">a</span><span class="p">,</span> <span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="n">d</span><span class="p">,</span> <span class="mi">2</span><span class="p">}]).</span>
</span><span class='line'><span class="p">[{</span><span class="n">t</span><span class="p">,</span><span class="mi">2</span><span class="p">},{</span><span class="n">a</span><span class="p">,</span><span class="mi">2</span><span class="p">},{</span><span class="n">d</span><span class="p">,</span><span class="mi">2</span><span class="p">},{</span><span class="n">x</span><span class="p">,</span><span class="mi">1</span><span class="p">},{</span><span class="n">d</span><span class="p">,</span><span class="mi">1</span><span class="p">},{</span><span class="n">e</span><span class="p">,</span><span class="mi">1</span><span class="p">}]</span>
</span></code></pre></td></tr></table></div></figure>


<p>最初の例では、事前にソートされたタプルリストが引数として与えられ、マージされたリストが返されます。また、<code>[{d, 1}, {d, 2}]</code>のようにキーの値が一致するものは左側の引数に与えられたものが優先されています。</p>

<p>次の例では、事前にソートされていないタプルリストが引数として与えられていますが、返されるリストはマージされていない状態で返ってきます。</p>

<h3>keyreplace/4</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>keyreplace(Key, N, TupleList1, NewTuple) &ndash;> TupleList2</h4>

<h4>Types</h4>

<ul>
<li>Key = term()</li>
<li>N = integer() >= 1 (1..tuple_size(Tuple))</li>
<li>TupleList1 = TupleList2 = [Tuple]</li>
<li>NewTuple = Tuple</li>
<li>Tuple = tuple()</li>
</ul>


<p>Returns a copy of TupleList1 where the first occurrence of a T tuple whose Nth element compares equal to Key is replaced with NewTuple, if there is such a tuple T.</p>

<p><a href="http://erlang.org/doc/man/lists.html#keyreplace-4">参照元</a></p></blockquote>

<h4>Explain</h4>

<p>タプルリストの中で最も最初に現れた<code>N</code>番目の要素が<code>Key</code>であるタプルを引数で指定されたタプルに変更したリストを返します。</p>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">keyreplace</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="p">[</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">a</span><span class="p">,</span> <span class="n">original</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">b</span><span class="p">,</span> <span class="n">original</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">original</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">d</span><span class="p">,</span> <span class="n">original</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">b</span><span class="p">,</span> <span class="n">not_change</span><span class="p">}],</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="p">{</span><span class="n">b</span><span class="p">,</span> <span class="n">changed</span><span class="p">}).</span>
</span><span class='line'><span class="p">[{</span><span class="n">a</span><span class="p">,</span><span class="n">original</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">b</span><span class="p">,</span><span class="n">changed</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">c</span><span class="p">,</span><span class="n">original</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">d</span><span class="p">,</span><span class="n">original</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">b</span><span class="p">,</span><span class="n">not_change</span><span class="p">}]</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">keyreplace</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="p">[</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">a</span><span class="p">,</span> <span class="n">original</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">b</span><span class="p">,</span> <span class="n">original</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>  <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">original</span><span class="p">}],</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="p">{</span><span class="n">x</span><span class="p">,</span> <span class="n">not_appear</span><span class="p">}).</span>
</span><span class='line'><span class="p">[{</span><span class="n">a</span><span class="p">,</span><span class="n">original</span><span class="p">},{</span><span class="n">b</span><span class="p">,</span><span class="n">original</span><span class="p">},{</span><span class="n">c</span><span class="p">,</span><span class="n">original</span><span class="p">}]</span>
</span></code></pre></td></tr></table></div></figure>


<p>最初の例では最も最初に現れる1番目の要素が<code>b</code>であるタプルが引数で与えられたタプルと交換されて返されます。最後に現れる同じ<code>Key</code>をもつタプルは変わっていません。</p>

<p>次の例では<code>Key</code>に一致するタプルが存在しないため、元のリストと同じ物が返ってきます。</p>

<h3>keysearch/3</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>keysearch(Key, N, TupleList) &ndash;> {value, Tuple} | false</h4>

<h4>Types</h4>

<ul>
<li>Key = term()</li>
<li>N = integer() >= 1 (1..tuple_size(Tuple))</li>
<li>TupleList = [Tuple]</li>
<li>Tuple = tuple()</li>
</ul>


<p>Searches the list of tuples TupleList for a tuple whose Nth element compares equal to Key. Returns {value, Tuple} if such a tuple is found, otherwise false.</p>

<blockquote><p>This function is retained for backward compatibility. The function lists:keyfind/3 (introduced in R13A) is in most cases more convenient.</p></blockquote>

<p><a href="http://erlang.org/doc/man/lists.html#keysearch-3">参照元</a></p></blockquote>

<h4>Explain</h4>

<p>タプルリストの中で<code>N</code>番目の要素が<code>Key</code>である最初のタプルを探して、<code>{value, Tuple}</code>の形式で返します。見つからない場合は、<code>false</code>を返します。</p>

<p>なお、この関数は下位互換のために残っているものであり、R13Aより導入された<code>lists:keyfind/3</code>関数の方が便利です。</p>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">keysearch</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="p">[</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>   <span class="p">{</span><span class="n">a</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>   <span class="p">{</span><span class="n">b</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>   <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>   <span class="p">{</span><span class="n">d</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>   <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="mi">2</span><span class="p">}]).</span>
</span><span class='line'><span class="p">{</span><span class="n">value</span><span class="p">,{</span><span class="n">c</span><span class="p">,</span><span class="mi">1</span><span class="p">}}</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">keysearch</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="p">[</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>   <span class="p">{</span><span class="n">a</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>   <span class="p">{</span><span class="n">b</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>   <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>   <span class="p">{</span><span class="n">d</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>   <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="mi">2</span><span class="p">}]).</span>
</span><span class='line'><span class="n">false</span>
</span></code></pre></td></tr></table></div></figure>


<p>最初の例では1番目の要素が<code>c</code>であるタプルを探して<code>{value, {c, 1}}</code>のように返します。二番目に現れるものは返しません。</p>

<p>次の例では条件に該当するタプルがないために<code>false</code>が返ってきます。</p>

<h3>keysort/2</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>keysort(N, TupleList1) &ndash;> TupleList2</h4>

<h4>Types</h4>

<ul>
<li>N = integer() >= 1 (1..tuple_size(Tuple))</li>
<li>TupleList1 = TupleList2 = [Tuple]</li>
<li>Tuple = tuple()</li>
</ul>


<p>Returns a list containing the sorted elements of the list TupleList1. Sorting is performed on the Nth element of the tuples. The sort is stable.</p>

<p><a href="http://erlang.org/doc/man/lists.html#keysort-2">参照元</a></p></blockquote>

<h4>Explain</h4>

<p>引数に渡されたタプルリストを<code>N</code>番目の要素でソートしたリストを返します。ソートは安定ソートです。</p>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">keysort</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="p">[</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>   <span class="p">{</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>   <span class="p">{</span><span class="n">r</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>   <span class="p">{</span><span class="n">t</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>   <span class="p">{</span><span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>   <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>   <span class="p">{</span><span class="n">s</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>   <span class="p">{</span><span class="n">r</span><span class="p">,</span> <span class="mi">2</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>   <span class="p">{</span><span class="n">a</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>   <span class="p">{</span><span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">}]).</span>
</span><span class='line'><span class="p">[{</span><span class="n">a</span><span class="p">,</span><span class="mi">1</span><span class="p">},{</span><span class="n">c</span><span class="p">,</span><span class="mi">1</span><span class="p">},{</span><span class="n">r</span><span class="p">,</span><span class="mi">1</span><span class="p">},{</span><span class="n">r</span><span class="p">,</span><span class="mi">2</span><span class="p">},{</span><span class="n">s</span><span class="p">,</span><span class="mi">1</span><span class="p">},{</span><span class="n">t</span><span class="p">,</span><span class="mi">1</span><span class="p">},{</span><span class="n">x</span><span class="p">,</span><span class="mi">1</span><span class="p">},{</span><span class="n">x</span><span class="p">,</span><span class="mi">2</span><span class="p">},{</span><span class="n">x</span><span class="p">,</span><span class="mi">3</span><span class="p">}]</span>
</span></code></pre></td></tr></table></div></figure>


<p>ソートされた結果が返ってきます。安定ソートのため、重複するキーに対しては元の順番が維持されます。</p>

<h3>keystore/4</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>keystore(Key, N, TupleList1, NewTuple) &ndash;> TupleList2</h4>

<h4>Types</h4>

<ul>
<li>Key = term()</li>
<li>N = integer() >= 1 (1..tuple_size(Tuple))</li>
<li>TupleList1 = [Tuple]</li>
<li>TupleList2 = [Tuple, &hellip;]</li>
<li>NewTuple = Tuple</li>
<li>Tuple = tuple()</li>
</ul>


<p>Returns a copy of TupleList1 where the first occurrence of a tuple T whose Nth element compares equal to Key is replaced with NewTuple, if there is such a tuple T. If there is no such tuple T a copy of TupleList1 where [NewTuple] has been appended to the end is returned.</p>

<p><a href="http://erlang.org/doc/man/lists.html#keystore-4">参照元</a></p></blockquote>

<h4>Explain</h4>

<p>タプルリストの中で一番最初に出てくる<code>N</code>番目の要素が<code>Key</code>であるタプルを、引数のタプルと交換したリストを返します。<code>Key</code>に一致するリストがない場合は、リストの最後に追加されて返されます。</p>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">keystore</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>   <span class="p">[{</span><span class="n">a</span><span class="p">,</span> <span class="n">origin</span><span class="p">},</span> <span class="p">{</span><span class="n">b</span><span class="p">,</span> <span class="n">origin</span><span class="p">},</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">origin</span><span class="p">},</span> <span class="p">{</span><span class="n">b</span><span class="p">,</span> <span class="n">not_store</span><span class="p">}],</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>   <span class="p">{</span><span class="n">b</span><span class="p">,</span> <span class="n">new_tuple</span><span class="p">}).</span>
</span><span class='line'><span class="p">[{</span><span class="n">a</span><span class="p">,</span><span class="n">origin</span><span class="p">},{</span><span class="n">b</span><span class="p">,</span><span class="n">new_tuple</span><span class="p">},{</span><span class="n">c</span><span class="p">,</span><span class="n">origin</span><span class="p">},{</span><span class="n">b</span><span class="p">,</span><span class="n">not_store</span><span class="p">}]</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">keystore</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>   <span class="p">[{</span><span class="n">a</span><span class="p">,</span> <span class="n">origin</span><span class="p">},</span> <span class="p">{</span><span class="n">b</span><span class="p">,</span> <span class="n">origin</span><span class="p">},</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="n">origin</span><span class="p">},</span> <span class="p">{</span><span class="n">b</span><span class="p">,</span> <span class="n">not_store</span><span class="p">}],</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>   <span class="p">{</span><span class="n">x</span><span class="p">,</span> <span class="n">not_found</span><span class="p">}).</span>
</span><span class='line'><span class="p">[{</span><span class="n">a</span><span class="p">,</span><span class="n">origin</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">b</span><span class="p">,</span><span class="n">origin</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">c</span><span class="p">,</span><span class="n">origin</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">b</span><span class="p">,</span><span class="n">not_store</span><span class="p">},</span>
</span><span class='line'> <span class="p">{</span><span class="n">x</span><span class="p">,</span><span class="n">not_found</span><span class="p">}]</span>
</span></code></pre></td></tr></table></div></figure>


<p>最初の例では、1番目の要素が<code>b</code>であるタプルが、引数に与えられた新しいタプルに交換されたリストが返ってきます。</p>

<p>次の例では、該当するタプルが存在しないため、引数に与えられた新しいタプルがリストの最後に追加されて返ってきます。</p>

<h3>keytake/3</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>keytake(Key, N, TupleList1) &ndash;> {value, Tuple, TupleList2} | false</h4>

<h4>Types</h4>

<ul>
<li>Key = term()</li>
<li>N = integer() >= 1 (1..tuple_size(Tuple))</li>
<li>TupleList1 = TupleList2 = [Tuple]</li>
<li>Tuple = tuple()</li>
</ul>


<p>Searches the list of tuples TupleList1 for a tuple whose Nth element compares equal to Key. Returns {value, Tuple, TupleList2} if such a tuple is found, otherwise false. TupleList2 is a copy of TupleList1 where the first occurrence of Tuple has been removed.</p>

<p><a href="http://erlang.org/doc/man/lists.html#keytake-3">参照元</a></p></blockquote>

<h4>Explain</h4>

<p>タプルリストの中から初めて現れる<code>N</code>番目の要素が<code>Key</code>であるタプルを取り出し、<code>{value, Tuple, TupleList2}</code>の形式で返します。戻されるタプルリストには条件に一致したタプルは含まれていません。一致するものがない場合は、<code>false</code>が返されます。</p>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">keytake</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="p">[{</span><span class="n">a</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="n">b</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="n">b</span><span class="p">,</span> <span class="mi">2</span><span class="p">}]).</span>
</span><span class='line'><span class="p">{</span><span class="n">value</span><span class="p">,{</span><span class="n">b</span><span class="p">,</span><span class="mi">1</span><span class="p">},[{</span><span class="n">a</span><span class="p">,</span><span class="mi">1</span><span class="p">},{</span><span class="n">c</span><span class="p">,</span><span class="mi">1</span><span class="p">},{</span><span class="n">b</span><span class="p">,</span><span class="mi">2</span><span class="p">}]}</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">keytake</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="p">[{</span><span class="n">a</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="n">b</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="n">c</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="n">b</span><span class="p">,</span> <span class="mi">2</span><span class="p">}]).</span>
</span><span class='line'><span class="n">false</span>
</span></code></pre></td></tr></table></div></figure>


<p>最初の例では一番最初に現れる1番目の要素が<code>b</code>のタプルが取り出され、後から現れるものは残ったリストとともに返されています。</p>

<p>次の例では、条件に一致するタプルがないため、<code>false</code>が返されます。</p>

<h3>last/1</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>last(List) &ndash;> Last</h4>

<h4>Types</h4>

<ul>
<li>List = [T, &hellip;]</li>
<li>Last = T</li>
<li>T = term()</li>
</ul>


<p>Returns the last element in List.</p>

<p><a href="http://erlang.org/doc/man/lists.html#last-1">参照元</a></p></blockquote>

<h4>Explain</h4>

<p>リストの最後の要素を返します。</p>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">last</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]).</span>
</span><span class='line'><span class="mi">5</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">last</span><span class="p">([</span><span class="mi">1</span><span class="p">]).</span>
</span><span class='line'><span class="mi">1</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">last</span><span class="p">([]).</span>
</span><span class='line'><span class="o">**</span> <span class="n">exception</span> <span class="nn">error</span><span class="p">:</span> <span class="n">no</span> <span class="n">function</span> <span class="n">clause</span> <span class="n">matching</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">last</span><span class="p">([])</span> <span class="p">(</span><span class="n">lists</span><span class="p">.</span><span class="n">erl</span><span class="p">,</span> <span class="n">line</span> <span class="mi">213</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>最初の例ではリストの最後の要素<code>5</code>が返されます。</p>

<p>次の例では長さ1のリストを引数として渡して、最後の要素=たったひとつの要素である<code>1</code>が返されます。</p>

<p>最後の例では長さ0のリストを引数として渡します。この場合は例外が発生します。</p>

<h3>map/2</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>map(Fun, List1) &ndash;> List2</h4>

<h4>Types</h4>

<ul>
<li>Fun = fun((A) &ndash;> B)</li>
<li>List1 = [A]</li>
<li>List2 = [B]</li>
<li>A = B = term()</li>
</ul>


<p>Takes a function from As to Bs, and a list of As and produces a list of Bs by applying the function to every element in the list. This function is used to obtain the return values. The evaluation order is implementation dependent.</p>

<p><a href="http://erlang.org/doc/man/lists.html#map-2">参照元</a></p></blockquote>

<h4>Explain</h4>

<p>要素を返還する関数を引数に取ります。そしてリストの要素１つずつに関数を適用した結果が入ったリストが返されます。なお、実行順序は実装に依存しています。</p>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">map</span><span class="p">(</span><span class="k">fun</span><span class="p">(</span><span class="nv">X</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nv">X</span> <span class="ow">rem</span> <span class="mi">2</span> <span class="o">=:=</span> <span class="mi">0</span> <span class="k">end</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]).</span>
</span><span class='line'><span class="p">[</span><span class="n">false</span><span class="p">,</span><span class="n">true</span><span class="p">,</span><span class="n">false</span><span class="p">,</span><span class="n">true</span><span class="p">,</span><span class="n">false</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>引数に偶数かどうか判定する関数を渡します。引数のリストは1から5までの整数ですので、<code>false</code>と<code>true</code>が繰り返されるリストが返ってきます。</p>

<h3>mapfoldl/3</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>mapfoldl(Fun, Acc0, List1) &ndash;> {List2, Acc1}</h4>

<h4>Types</h4>

<ul>
<li>Fun = fun((A, AccIn) &ndash;> {B, AccOut})</li>
<li>Acc0 = Acc1 = AccIn = AccOut = term()</li>
<li>List1 = [A]</li>
<li>List2 = [B]</li>
<li>A = B = term()</li>
</ul>


<p>mapfoldl combines the operations of map/2 and foldl/3 into one pass.</p>

<p><a href="http://erlang.org/doc/man/lists.html#mapfoldl-3">参照元</a></p></blockquote>

<h4>Explain</h4>

<p><code>mapfoldl/3</code>関数は<code>map/2</code>関数と<code>foldl/3</code>関数を一つにまとめたような関数です。</p>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nv">Multiply</span> <span class="o">=</span> <span class="k">fun</span> <span class="p">({</span><span class="nv">R1</span><span class="p">,</span> <span class="nv">I1</span><span class="p">},</span> <span class="p">{</span><span class="nv">R2</span><span class="p">,</span> <span class="nv">I2</span><span class="p">})</span> <span class="o">-&gt;</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>     <span class="p">{</span><span class="nv">R1</span> <span class="o">*</span> <span class="nv">R2</span> <span class="o">-</span> <span class="nv">I1</span> <span class="o">*</span> <span class="nv">I2</span><span class="p">,</span> <span class="nv">R1</span> <span class="o">*</span> <span class="nv">I2</span> <span class="o">+</span> <span class="nv">I1</span> <span class="o">*</span> <span class="nv">R2</span><span class="p">}</span> <span class="k">end</span><span class="p">.</span>
</span><span class='line'><span class="err">#</span><span class="nv">Fun</span><span class="o">&lt;</span><span class="n">erl_eval</span><span class="p">.</span><span class="mi">12</span><span class="p">.</span><span class="mi">17052888</span><span class="o">&gt;</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">mapfoldl</span><span class="p">(</span><span class="k">fun</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="nv">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nv">Res</span> <span class="o">=</span> <span class="nv">Multiply</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="nv">A</span><span class="p">),</span> <span class="p">{</span><span class="nv">Res</span><span class="p">,</span> <span class="nv">Res</span><span class="p">}</span> <span class="k">end</span><span class="p">,</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>   <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="p">[{</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">}]).</span>
</span><span class='line'><span class="p">{[{</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">},{</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">},{</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">},{</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">}],{</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">}}</span>
</span></code></pre></td></tr></table></div></figure>


<p>複素数<code>{R, I}</code>に対して、掛け算をする関数<code>Multiply</code>を定義し、<code>lists:mapfoldl/3</code>で初期値<code>{1, 0}</code>から左から順繰りに掛け算をしていきます。返されたタプルの左要素には掛け算の経過が、タプルの右側の要素には最終的な掛け算の結果が返っています。</p>

<h3>mapfoldr/3</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>mapfoldr(Fun, Acc0, List1) &ndash;> {List2, Acc1}</h4>

<h4>Types</h4>

<ul>
<li>Fun = fun((A, AccIn) &ndash;> {B, AccOut})</li>
<li>Acc0 = Acc1 = AccIn = AccOut = term()</li>
<li>List1 = [A]</li>
<li>List2 = [B]</li>
<li>A = B = term()</li>
</ul>


<p>mapfoldr combines the operations of map/2 and foldr/3 into one pass.</p>

<p><a href="http://erlang.org/doc/man/lists.html#mapfoldr-3">参照元</a></p></blockquote>

<h4>Explain</h4>

<p><code>mapfoldr</code>関数は<code>map/2</code>関数と<code>foldr/3</code>関数を組み合わせた関数です。</p>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nv">Multiply</span> <span class="o">=</span> <span class="k">fun</span> <span class="p">({</span><span class="nv">R1</span><span class="p">,</span> <span class="nv">I1</span><span class="p">},</span> <span class="p">{</span><span class="nv">R2</span><span class="p">,</span> <span class="nv">I2</span><span class="p">})</span> <span class="o">-&gt;</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>     <span class="p">{</span><span class="nv">R1</span> <span class="o">*</span> <span class="nv">R2</span> <span class="o">-</span> <span class="nv">I1</span> <span class="o">*</span> <span class="nv">I2</span><span class="p">,</span> <span class="nv">R1</span> <span class="o">*</span> <span class="nv">I2</span> <span class="o">+</span> <span class="nv">I1</span> <span class="o">*</span> <span class="nv">R2</span><span class="p">}</span> <span class="k">end</span><span class="p">.</span>
</span><span class='line'><span class="err">#</span><span class="nv">Fun</span><span class="o">&lt;</span><span class="n">erl_eval</span><span class="p">.</span><span class="mi">12</span><span class="p">.</span><span class="mi">17052888</span><span class="o">&gt;</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">mapfoldr</span><span class="p">(</span><span class="k">fun</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="nv">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nv">Res</span> <span class="o">=</span> <span class="nv">Multiply</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="nv">A</span><span class="p">),</span> <span class="p">{</span><span class="nv">Res</span><span class="p">,</span> <span class="nv">Res</span><span class="p">}</span> <span class="k">end</span><span class="p">,</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>   <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">},</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="p">[{</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">},</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">}]).</span>
</span><span class='line'><span class="p">{[{</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">},{</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">},{</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">},{</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">}],{</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">}}</span>
</span></code></pre></td></tr></table></div></figure>


<p>先ほどと同じく複素数の計算をしています。返されたタプルの左側の順序が先ほどの<code>mapfoldl/3</code>関数と異なっていることがわかると思います。</p>

<h3>max/1</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>max(List) &ndash;> Max</h4>

<h4>Types</h4>

<ul>
<li>List = [T, &hellip;]</li>
<li>Max = T</li>
<li>T = term()</li>
</ul>


<p>Returns the first element of List that compares greater than or equal to all other elements of List.</p>

<p><a href="http://erlang.org/doc/man/lists.html#max-1">参照元</a></p></blockquote>

<h4>Explain</h4>

<p>他のすべての要素より大きい最初の要素を返します。</p>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">max</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="o">-</span><span class="mi">6</span><span class="p">]).</span>
</span><span class='line'><span class="mi">4</span>
</span></code></pre></td></tr></table></div></figure>


<p>リストの中の最大値である<code>4</code>が返されます。</p>

<h3>member/2</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>member(Elem, List) &ndash;> boolean()</h4>

<h4>Types</h4>

<ul>
<li>Elem = T</li>
<li>List = [T]</li>
<li>T = term()</li>
</ul>


<p>Returns true if Elem matches some element of List, otherwise false.</p>

<p><a href="http://erlang.org/doc/man/lists.html#member-2">参照元</a></p></blockquote>

<h4>Explain</h4>

<p>指定した要素と一致する要素があれば<code>true</code>を、なければ<code>false</code>を返します。</p>

<h4>Example</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">member</span><span class="p">({</span><span class="n">a</span><span class="p">,</span><span class="mi">1</span><span class="p">},</span> <span class="p">[{</span><span class="n">b</span><span class="p">,</span><span class="mi">1</span><span class="p">},{</span><span class="n">c</span><span class="p">,</span><span class="mi">1</span><span class="p">},{</span><span class="n">a</span><span class="p">,</span><span class="mi">2</span><span class="p">},{</span><span class="n">d</span><span class="p">,</span><span class="mi">1</span><span class="p">},{</span><span class="n">a</span><span class="p">,</span><span class="mi">1</span><span class="p">}]).</span>
</span><span class='line'><span class="n">true</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">member</span><span class="p">({</span><span class="n">a</span><span class="p">,</span><span class="mi">1</span><span class="p">},</span> <span class="p">[{</span><span class="n">b</span><span class="p">,</span><span class="mi">1</span><span class="p">},{</span><span class="n">c</span><span class="p">,</span><span class="mi">1</span><span class="p">},{</span><span class="n">a</span><span class="p">,</span><span class="mi">2</span><span class="p">},{</span><span class="n">d</span><span class="p">,</span><span class="mi">1</span><span class="p">}]).</span>
</span><span class='line'><span class="n">false</span>
</span></code></pre></td></tr></table></div></figure>


<p>最初の例では指定した要素<code>{a,1}</code>に一致する要素がリストにあるため<code>true</code>が返ってきます。</p>

<p>次の例では指定した要素<code>{a,1}</code>に一致する要素がリストにないため<code>false</code>が返ってきます。</p>

<h2>次回</h2>

<p>次回は次の式の結果をやっていきます。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="nn">lists</span><span class="p">:</span><span class="nf">sublist</span><span class="p">(</span>
</span><span class='line'>    <span class="nn">lists</span><span class="p">:</span><span class="nf">sort</span><span class="p">(</span>
</span><span class='line'>        <span class="nn">lists</span><span class="p">:</span><span class="nf">map</span><span class="p">(</span>
</span><span class='line'>            <span class="k">fun</span><span class="p">({</span><span class="nv">F</span><span class="p">,</span> <span class="nv">A</span><span class="p">})</span> <span class="o">-&gt;</span>
</span><span class='line'>                <span class="nb">atom_to_list</span><span class="p">(</span><span class="nv">F</span><span class="p">)</span> <span class="o">++</span>
</span><span class='line'>                <span class="s">&quot;/&quot;</span> <span class="o">++</span>
</span><span class='line'>                <span class="nb">integer_to_list</span><span class="p">(</span><span class="nv">A</span><span class="p">)</span>
</span><span class='line'>            <span class="k">end</span><span class="p">,</span>
</span><span class='line'>            <span class="nn">lists</span><span class="p">:</span><span class="nf">module_info</span><span class="p">(</span><span class="n">exports</span><span class="p">))),</span>
</span><span class='line'>    <span class="mi">17</span><span class="p">,</span>
</span><span class='line'>    <span class="mi">16</span><span class="p">).</span>
</span></code></pre></td></tr></table></div></figure>




<script type="text/javascript"><!--
google_ad_client = "ca-pub-4508687151223458";
/* octopress */
google_ad_slot = "1134799005";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>


<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40855644-1', 'github.io');
  ga('send', 'pageview');

</script>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Erlangのlistsモジュールを試してみる - 第1回]]></title>
    <link href="http://mike-neck.github.io/blog/2013/05/14/erlangfalselistsmoziyuruwoshi-sitemiru-di-1hui/"/>
    <updated>2013-05-14T03:15:00+09:00</updated>
    <id>http://mike-neck.github.io/blog/2013/05/14/erlangfalselistsmoziyuruwoshi-sitemiru-di-1hui</id>
    <content type="html"><![CDATA[<p>みけです。</p>

<p>Erlangのlistsモジュールを試してみるの第一回になります。</p>

<p>なお、最初の16個は</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="nn">lists</span><span class="p">:</span><span class="nf">sublist</span><span class="p">(</span>
</span><span class='line'>    <span class="nn">lists</span><span class="p">:</span><span class="nf">sort</span><span class="p">(</span>
</span><span class='line'>        <span class="nn">lists</span><span class="p">:</span><span class="nf">map</span><span class="p">(</span>
</span><span class='line'>            <span class="k">fun</span><span class="p">({</span><span class="nv">F</span><span class="p">,</span> <span class="nv">A</span><span class="p">})</span> <span class="o">-&gt;</span>
</span><span class='line'>                <span class="nb">atom_to_list</span><span class="p">(</span><span class="nv">F</span><span class="p">)</span> <span class="o">++</span>
</span><span class='line'>                <span class="s">&quot;/&quot;</span> <span class="o">++</span>
</span><span class='line'>                <span class="nb">integer_to_list</span><span class="p">(</span><span class="nv">A</span><span class="p">)</span>
</span><span class='line'>            <span class="k">end</span><span class="p">,</span>
</span><span class='line'>            <span class="nn">lists</span><span class="p">:</span><span class="nf">module_info</span><span class="p">(</span><span class="n">exports</span><span class="p">))),</span>
</span><span class='line'>    <span class="mi">1</span><span class="p">,</span>
</span><span class='line'>    <span class="mi">16</span><span class="p">).</span>
</span></code></pre></td></tr></table></div></figure>


<p>の実行結果</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="p">[</span>
</span><span class='line'>  <span class="s">&quot;all/2&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;any/2&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;append/1&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;append/2&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;concat/1&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;delete/2&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;dropwhile/2&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;duplicate/2&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;filter/2&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;flatlength/1&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;flatmap/2&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;flatten/1&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;flatten/2&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;foldl/3&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;foldr/3&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s">&quot;foreach/2&quot;</span>
</span><span class='line'><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>です。</p>

<h3>all/2</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>all(Pred, List) &ndash;> boolean()</h4>

<h5>Types</h5>

<ul>
<li>Pred = fun((Elem :: T) &ndash;> boolean())</li>
<li>List = [T]</li>
<li>T = term()</li>
</ul>


<p>Returns true if Pred(Elem) returns true for all elements Elem in List, otherwise false.</p>

<p><a href="http://erlang.org/doc/man/lists.html#all-2">参照元</a></p></blockquote>

<h4>解説</h4>

<ul>
<li>すべての要素が第一引数に与えられた関数で<code>true</code>になれば<code>true</code>を返します。</li>
<li>第一引数に与えられた関数で<code>false</code>になるものが一つでもあれば、<code>false</code>を返します。</li>
</ul>


<h4>実例</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">all</span><span class="p">(</span><span class="k">fun</span><span class="p">(</span><span class="nv">X</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nv">X</span> <span class="ow">rem</span> <span class="mi">2</span> <span class="o">=:=</span> <span class="mi">0</span> <span class="k">end</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">]).</span>
</span><span class='line'><span class="n">true</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">all</span><span class="p">(</span><span class="k">fun</span><span class="p">(</span><span class="nv">X</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nv">X</span> <span class="ow">rem</span> <span class="mi">2</span> <span class="o">=:=</span> <span class="mi">0</span> <span class="k">end</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]).</span>
</span><span class='line'><span class="n">false</span>
</span></code></pre></td></tr></table></div></figure>


<p>偶数であることを判断する関数を第一引数に与えています。</p>

<p>最初の例では全部偶数である<code>[0, 2, 4, 8]</code>が与えられています。</p>

<p>その結果、<code>true</code>が返ってきます。</p>

<p>一方、二番目の例では単なる1間隔の順列<code>[1, 2, 3, 4]</code>が与えられています。</p>

<p>したがって、<code>false</code>が返ってきます。</p>

<h3>any/2</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>any(Pred, List) &ndash;> boolean()</h4>

<h5>Types</h5>

<ul>
<li>Pred = fun((Elem :: T) &ndash;> boolean())</li>
<li>List = [T]</li>
<li>T = term()</li>
</ul>


<p>Returns true if Pred(Elem) returns true for at least one element Elem in List.</p>

<p><a href="http://erlang.org/doc/man/lists.html#any-2">参照元</a></p></blockquote>

<h4>解説</h4>

<ul>
<li>リストの要素のうち、一つでも第一引数に渡した関数が<code>true</code>を返せば<code>true</code>が返ってきます。</li>
<li>リストの要素すべてで、第一引数の関数を満たさなければ<code>false</code>が返ってきます。</li>
</ul>


<h4>実例</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">any</span><span class="p">(</span><span class="k">fun</span><span class="p">(</span><span class="nv">X</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">is_integer</span><span class="p">(</span><span class="nv">X</span><span class="p">)</span> <span class="k">end</span><span class="p">,</span>                                         <span class="mi">1</span><span class="o">&gt;</span>     <span class="p">[</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="s">&quot;hoge&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="k">fun</span><span class="p">(</span><span class="nv">X</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">true</span> <span class="k">end</span><span class="p">]).</span>
</span><span class='line'><span class="n">true</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">any</span><span class="p">(</span><span class="k">fun</span><span class="p">(</span><span class="nv">X</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">is_integer</span><span class="p">(</span><span class="nv">X</span><span class="p">)</span> <span class="k">end</span><span class="p">,</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>     <span class="p">[</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="s">&quot;hoge&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="k">fun</span><span class="p">(</span><span class="nv">X</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">true</span> <span class="k">end</span><span class="p">]).</span>
</span><span class='line'><span class="n">false</span>
</span></code></pre></td></tr></table></div></figure>


<p>整数であることを判断する関数を第一引数として与えています。</p>

<p>最初の例ではリストの4番目の要素<code>1</code>が整数ですので、この関数から<code>true</code>が返ってきます。したがって、実行結果は<code>true</code>となります。</p>

<p>２つ目の例では先ほどは整数だった<code>1</code>をリスト<code>[1]</code>に変更しています。そのため、関数が<code>true</code>を返すものがありません。したがって、実行結果は<code>false</code>になります。</p>

<h3>append/1</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>append(ListOfLists) &ndash;> List1</h4>

<h5>Types</h5>

<ul>
<li>ListOfLists = [List]</li>
<li>List = List1 = [T]</li>
<li>T = term()</li>
</ul>


<p>Returns a list in which all the sub-lists of ListOfLists have been appended.</p>

<p><a href="http://erlang.org/doc/man/lists.html#append-1">参照元</a></p></blockquote>

<h4>解説</h4>

<p>リストの中に含まれる複数のリストを結合した新しいリストを返します。</p>

<h4>実例</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">append</span><span class="p">([[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">]]).</span>
</span><span class='line'><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">]</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">append</span><span class="p">([[</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span><span class="mi">5</span><span class="p">],[</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">]]).</span>
</span><span class='line'><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span><span class="mi">5</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>最初の例ではリストの中にある複数のリストが結合されて一つのリストにまとまります。</p>

<p>次の例ではリストの中にある複数のリストが結合されて一つのリストにまとまっていますが、リスト中のリスト中のリストは展開されません。</p>

<h3>append/2</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>append(List1, List2) &ndash;> List3</h4>

<h4>Types</h4>

<ul>
<li>List1 = List2 = List3 = [T]</li>
<li>T = term()</li>
</ul>


<p>Returns a new list List3 which is made from the elements of List1 followed by the elements of List2.</p>

<p><a href="http://erlang.org/doc/man/lists.html#append-2">参照元</a></p></blockquote>

<h4>解説</h4>

<p>リストを結合して新しいリストを返します。</p>

<h4>実例</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">append</span><span class="p">(</span><span class="s">&quot;ir&quot;</span><span class="p">,</span> <span class="s">&quot;of&quot;</span><span class="p">).</span>
</span><span class='line'><span class="s">&quot;irof&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>リスト<code>"ir"</code>とリスト<code>"of"</code>が結合されて、新しいリスト<code>"irof"</code>が返されます。</p>

<h3>concat/1</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>concat(Things) &ndash;> string()</h4>

<h4>Types</h4>

<ul>
<li>Things = [Thing]</li>
<li>Thing = atom() | integer() | float() | string()</li>
</ul>


<p>Concatenates the text representation of the elements of Things. The elements of Things can be atoms, integers, floats or strings.</p>

<p><a href="http://erlang.org/doc/man/lists.html#concat-1">参照元</a></p></blockquote>

<h4>解説</h4>

<p>リスト中の要素の文字列表現を結合する。要素はアトム、整数、浮動小数点数、文字列。</p>

<h4>実例</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">concat</span><span class="p">([</span><span class="n">lists</span><span class="p">,</span> <span class="n">&#39;:&#39;</span><span class="p">,</span> <span class="s">&quot;concat&quot;</span><span class="p">,</span> <span class="n">&#39;/&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">]).</span>
</span><span class='line'><span class="s">&quot;lists:concat/1&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>アトム、アトム、文字列、アトム、整数を結合して文字列を出力しています。</p>

<h3>delete/2</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>delete(Elem, List1) &ndash;> List2</h4>

<h4>Types</h4>

<ul>
<li>Elem = T</li>
<li>List1 = List2 = [T]</li>
<li>T = term()</li>
</ul>


<p>Returns a copy of List1 where the first element matching Elem is deleted, if there is such an element.</p>

<p><a href="http://erlang.org/doc/man/lists.html#delete-2">参照元</a></p></blockquote>

<h4>解説</h4>

<p>リストから指定要素にマッチする最初の要素を削除したリストを返します。</p>

<h4>実例</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">delete</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="p">[</span><span class="n">q</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">w</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="n">e</span><span class="p">]).</span>
</span><span class='line'><span class="p">[</span><span class="n">q</span><span class="p">,</span><span class="n">w</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="n">e</span><span class="p">]</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">delete</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="p">[</span><span class="n">f</span><span class="p">,</span><span class="n">o</span><span class="p">,</span><span class="n">o</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">z</span><span class="p">]).</span>
</span><span class='line'><span class="p">[</span><span class="n">f</span><span class="p">,</span><span class="n">o</span><span class="p">,</span><span class="n">o</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">z</span><span class="p">]</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">delete</span><span class="p">(</span><span class="n">hoge</span><span class="p">,</span> <span class="p">[</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">baz</span><span class="p">]).</span>
</span><span class='line'><span class="p">[</span><span class="n">foo</span><span class="p">,</span><span class="n">bar</span><span class="p">,</span><span class="n">baz</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>最初の例では、リストの中に指定した要素<code>a</code>があるため、それを削除したリストが返されます。</p>

<p>次の例では、リストの中に指定した要素<code>a</code>が２つありますが、最初の<code>a</code>が削除されたリストが返されます。</p>

<p>最後の例では、リストの中に指定した要素<code>hoge</code>と同じ要素がないため、元のリストと同じ内容のリストが返されます。</p>

<h3>dropwhile/2</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>dropwhile(Pred, List1) &ndash;> List2</h4>

<h4>Types</h4>

<ul>
<li>Pred = fun((Elem :: T) &ndash;> boolean())</li>
<li>List1 = List2 = [T]</li>
<li>T = term()</li>
</ul>


<p>Drops elements Elem from List1 while Pred(Elem) returns true and returns the remaining list.</p>

<p><a href="http://erlang.org/doc/man/lists.html#dropwhile-2">参照元</a></p></blockquote>

<h4>解説</h4>

<p>引数として与えた関数<code>Pred(Elem)</code>が<code>true</code>を返す間、要素<code>Elem</code>をリストから削除して、残ったリストを返します。</p>

<h4>実例</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">dropwhile</span><span class="p">(</span><span class="k">fun</span><span class="p">(</span><span class="nv">X</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nv">X</span> <span class="o">&lt;</span> <span class="mi">5</span> <span class="k">end</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">]).</span>
</span><span class='line'><span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">]</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">dropwhile</span><span class="p">(</span><span class="k">fun</span><span class="p">(</span><span class="nv">X</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nv">X</span> <span class="o">&gt;</span> <span class="mi">2</span> <span class="k">end</span><span class="p">,</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>     <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">]).</span>
</span><span class='line'><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>最初の例では要素が<code>5</code>より小さい要素は除外され、<code>5</code>より大きいリストが返されます。</p>

<p>次の例では、要素が<code>2</code>より大きい間の要素は除外され、初めて<code>2</code>が出てきた後の要素が残ったリストが返されます。(返されたリストには関数が<code>true</code>を返すものが含まれます)</p>

<h3>duplicate/2</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>duplicate(N, Elem) &ndash;> List</h4>

<h4>Types</h4>

<ul>
<li>N = integer() >= 0</li>
<li>Elem = T</li>
<li>List = [T]</li>
<li>T = term()</li>
</ul>


<p>Returns a list which contains N copies of the term Elem.</p>

<p><a href="http://erlang.org/doc/man/lists.html#duplicate-2">参照元</a></p></blockquote>

<h4>解説</h4>

<p>要素<code>Elem</code>を<code>N</code>回繰り返したリストが返されます。</p>

<h4>実例</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">duplicate</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">irof</span><span class="p">).</span>
</span><span class='line'><span class="p">[</span><span class="n">irof</span><span class="p">,</span><span class="n">irof</span><span class="p">,</span><span class="n">irof</span><span class="p">,</span><span class="n">irof</span><span class="p">,</span><span class="n">irof</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>要素<code>irof</code>が<code>5</code>回繰り返されたリストが返されます。</p>

<h3>filter/2</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>filter(Pred, List1) &ndash;> List2</h4>

<h4>Types</h4>

<ul>
<li>Pred = fun((Elem :: T) &ndash;> boolean())</li>
<li>List1 = List2 = [T]</li>
<li>T = term()</li>
</ul>


<p>List2 is a list of all elements Elem in List1 for which Pred(Elem) returns true.</p>

<p><a href="http://erlang.org/doc/man/lists.html#filter-2">参照元</a></p></blockquote>

<h4>解説</h4>

<p>リストの中から条件を満たす要素を取り出したリストを返します。</p>

<h4>実例</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">filter</span><span class="p">(</span><span class="k">fun</span><span class="p">(</span><span class="nv">X</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nv">X</span> <span class="ow">rem</span> <span class="mi">3</span> <span class="o">=:=</span> <span class="mi">0</span> <span class="k">end</span><span class="p">,</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>     <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]).</span>
</span><span class='line'><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>リストの中から<code>3</code>の剰余が<code>0</code>のものを取り出したリストを返します。</p>

<h3>flatlength/1</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>flatlength(DeepList) &ndash;> integer() >= 0</h4>

<h4>Types</h4>

<ul>
<li>DeepList = [term() | DeepList]</li>
</ul>


<p>Equivalent to <code>length(flatten(DeepList))</code>, but more efficient.</p>

<p><a href="http://erlang.org/doc/man/lists.html#flatlength-1">参照元</a></p></blockquote>

<h4>解説</h4>

<p>BIFの<code>length/1</code>関数と同様な関数ですが、より便利です。</p>

<h4>実例</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">flatlength</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="mi">4</span><span class="p">,[[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span><span class="mi">7</span><span class="p">]]).</span>
</span><span class='line'><span class="mi">7</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nb">length</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="mi">4</span><span class="p">,[[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],</span><span class="mi">7</span><span class="p">]]).</span>
</span><span class='line'><span class="mi">3</span>
</span></code></pre></td></tr></table></div></figure>


<p>内部にリストを含むリストに対して内部のリストの要素数を含む要素数を返します。最初の例では内部リストの要素の数を含めて<code>7</code>を返します。</p>

<p>一方、BIFの<code>length/1</code>では、内部リストを一つの要素として数えるため、<code>3</code>が返ってきます。</p>

<h3>flatmap/2</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>flatmap(Fun, List1) &ndash;> List2</h4>

<h4>Types</h4>

<ul>
<li>Fun = fun((A) &ndash;> [B])</li>
<li>List1 = [A]</li>
<li>List2 = [B]</li>
<li>A = B = term()</li>
</ul>


<p>Takes a function from As to lists of Bs, and a list of As (List1) and produces a list of Bs by applying the function to every element in List1 and appending the resulting lists.</p>

<p><a href="http://erlang.org/doc/man/lists.html#flatmap-2">参照元</a></p></blockquote>

<h4>解説</h4>

<p>第一引数には要素Aからリスト[B]を生成する関数を取ります。第二引数はリストです。そしてリスト[B]が結合されたリストが返されます。</p>

<h4>実例</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">flatmap</span><span class="p">(</span><span class="k">fun</span><span class="p">(</span><span class="nv">X</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="nv">X</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="nv">X</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="k">end</span><span class="p">,</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>     <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]).</span>
</span><span class='line'><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">]</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">flatmap</span><span class="p">(</span><span class="k">fun</span><span class="p">(</span><span class="nv">X</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nv">X</span> <span class="o">*</span> <span class="nv">X</span> <span class="k">end</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]).</span>
</span><span class='line'><span class="o">**</span> <span class="n">exception</span> <span class="nn">error</span><span class="p">:</span> <span class="n">bad</span> <span class="n">argument</span>
</span><span class='line'>     <span class="n">in</span> <span class="n">operator</span>  <span class="o">++/</span><span class="mi">2</span>
</span><span class='line'>        <span class="n">called</span> <span class="n">as</span> <span class="mi">16</span> <span class="o">++</span> <span class="p">[]</span>
</span><span class='line'>     <span class="n">in</span> <span class="n">call</span> <span class="n">from</span> <span class="nn">lists</span><span class="p">:</span><span class="n">flatmap</span><span class="o">/</span><span class="mi">2</span> <span class="p">(</span><span class="n">lists</span><span class="p">.</span><span class="n">erl</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1235</span><span class="p">)</span>
</span><span class='line'>     <span class="n">in</span> <span class="n">call</span> <span class="n">from</span> <span class="nn">lists</span><span class="p">:</span><span class="n">flatmap</span><span class="o">/</span><span class="mi">2</span> <span class="p">(</span><span class="n">lists</span><span class="p">.</span><span class="n">erl</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1235</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>最初の例での第一引数の関数は、入力された要素を倍にした値と、倍にした値に1を加えた値の二つを要素としてもつリストを返します。これをリスト<code>[0, 1, 2, 3]</code>に対して実行し、最終的にそれらを結合したリスト<code>[0,1,2,3,4,5,6,7]</code>が返ってきます。</p>

<p>次の例では、第一引数の関数は入力された要素の二乗を返します。これをリスト<code>[1, 2, 3, 4]</code>に対して実行します。しかし第一引数が返す値はリストではないため、例外が発生して終了します。</p>

<h3>flatten/1</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>flatten(DeepList) &ndash;> List</h4>

<h4>Types</h4>

<ul>
<li>DeepList = [term() | DeepList]</li>
<li>List = [term()]</li>
</ul>


<p>Returns a flattened version of DeepList.</p>

<p><a href="http://erlang.org/doc/man/lists.html#flatten-1">参照元</a></p></blockquote>

<h4>解説</h4>

<p>内部にリストを持つリストのネストをなくしたリストを返します。</p>

<h4>実例</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">flatten</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,[</span><span class="mi">5</span><span class="p">],</span><span class="mi">6</span><span class="p">],[[[</span><span class="mi">7</span><span class="p">],</span><span class="mi">8</span><span class="p">]],</span><span class="mi">9</span><span class="p">]).</span>
</span><span class='line'><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>内部にリストを持つリストから、ネストなしリストを返します。</p>

<h3>flatten/2</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>flatten(DeepList, Tail) &ndash;> List</h4>

<h4>Types</h4>

<ul>
<li>DeepList = [term() | DeepList]</li>
<li>Tail = List = [term()]</li>
</ul>


<p>Returns a flattened version of DeepList with the tail Tail appended.</p>

<p><a href="http://erlang.org/doc/man/lists.html#flatten-2">参照元</a></p></blockquote>

<h4>解説</h4>

<p>最初のネストがあるリストに<code>lists:flatten/1</code>を施して、第二引数のリストを追加したリストを返します。</p>

<h4>実例</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">flatten</span><span class="p">(</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>     <span class="p">[</span><span class="mi">1</span><span class="p">,[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,[[</span><span class="mi">4</span><span class="p">],</span><span class="mi">5</span><span class="p">]],</span><span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]).</span>
</span><span class='line'><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">flatten</span><span class="p">(</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>     <span class="p">[</span><span class="mi">1</span><span class="p">,[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,[[</span><span class="mi">4</span><span class="p">],</span><span class="mi">5</span><span class="p">]],</span><span class="mi">6</span><span class="p">],</span> <span class="p">[[</span><span class="mi">7</span><span class="p">],</span><span class="mi">8</span><span class="p">]).</span>
</span><span class='line'><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,[</span><span class="mi">7</span><span class="p">],</span><span class="mi">8</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>最初の例では、ネストしたリストからネストを外し、第二引数のリストを追加したリストが返ってきます。</p>

<p>次の例でも、第一引数のネストしたリストのネストが外れ、第二引数のリストを追加したものが返ってきますが、第二引数のリストのネストは残ったままとなります。</p>

<h3>foldl/3</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>foldl(Fun, Acc0, List) &ndash;> Acc1</h4>

<h4>Types</h4>

<ul>
<li>Fun = fun((Elem :: T, AccIn) &ndash;> AccOut)</li>
<li>Acc0 = Acc1 = AccIn = AccOut = term()</li>
<li>List = [T]</li>
<li>T = term()</li>
</ul>


<p>Calls Fun(Elem, AccIn) on successive elements A of List, starting with AccIn == Acc0. Fun/2 must return a new accumulator which is passed to the next call. The function returns the final value of the accumulator. Acc0 is returned if the list is empty.</p>

<p><a href="http://erlang.org/doc/man/lists.html#foldl-3">参照元</a></p></blockquote>

<h4>解説</h4>

<p>リストの左側から１つずつ要素を取り出し、第一引数の関数を連続で呼び出します。第一引数の関数は二つの引数を取り、次回の引数として使われる値を返します。第二引数には初期値を与えます。<code>lists:foldl</code>関数は最後の第一引数の関数の結果を返します。</p>

<h4>実例</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">foldl</span><span class="p">(</span><span class="k">fun</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="nv">Accum</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nv">X</span> <span class="o">+</span> <span class="nv">Accum</span> <span class="k">end</span><span class="p">,</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>     <span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]).</span>
</span><span class='line'><span class="mi">15</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">foldl</span><span class="p">(</span><span class="k">fun</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="nv">Accum</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">[</span><span class="nv">X</span> <span class="o">*</span> <span class="nv">X</span> <span class="p">|</span> <span class="nv">Accum</span><span class="p">]</span> <span class="k">end</span><span class="p">,</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>     <span class="p">[],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]).</span>
</span><span class='line'><span class="p">[</span><span class="mi">25</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>最初の例では初期値0からリスト<code>[1,2,3,4,5]</code>を順番に足していき、最後の結果<code>15</code>を返します。</p>

<p>次の例では、初期値<code>[]</code>のリストにリスト<code>[1,2,3,4,5]</code>の要素の二乗を追加していき、最終的にリスト<code>[25,16,9,4,1]</code>を返します。</p>

<h3>foldr/3</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>foldr(Fun, Acc0, List) &ndash;> Acc1</h4>

<h4>Types</h4>

<ul>
<li>Fun = fun((Elem :: T, AccIn) &ndash;> AccOut)</li>
<li>Acc0 = Acc1 = AccIn = AccOut = term()</li>
<li>List = [T]</li>
<li>T = term()</li>
</ul>


<p>Like <code>foldl/3</code>, but the list is traversed from right to left.</p>

<p><a href="http://erlang.org/doc/man/lists.html#foldr-3">参照元</a></p></blockquote>

<h4>解説</h4>

<p><code>lists:foldl/3</code>と同様に順次計算していきますが、<code>lists:foldr/3</code>では関数の引数をリストの右から左の順番で取っていきます。</p>

<h4>実例</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">1</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">foldr</span><span class="p">(</span><span class="k">fun</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="nv">Accum</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nv">X</span> <span class="o">+</span> <span class="nv">Accum</span> <span class="k">end</span><span class="p">,</span>
</span><span class='line'><span class="mi">1</span><span class="o">&gt;</span>     <span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]).</span>
</span><span class='line'><span class="mi">15</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">foldr</span><span class="p">(</span><span class="k">fun</span><span class="p">(</span><span class="nv">X</span><span class="p">,</span> <span class="nv">Accum</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="p">[{</span><span class="nv">X</span><span class="p">,</span> <span class="nv">X</span> <span class="o">*</span> <span class="nv">X</span><span class="p">}|</span><span class="nv">Accum</span><span class="p">]</span> <span class="k">end</span><span class="p">,</span>
</span><span class='line'><span class="mi">2</span><span class="o">&gt;</span>     <span class="p">[],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]).</span>
</span><span class='line'><span class="p">[{</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">},{</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">},{</span><span class="mi">3</span><span class="p">,</span><span class="mi">9</span><span class="p">},{</span><span class="mi">4</span><span class="p">,</span><span class="mi">16</span><span class="p">},{</span><span class="mi">5</span><span class="p">,</span><span class="mi">25</span><span class="p">}]</span>
</span></code></pre></td></tr></table></div></figure>


<p>最初の例では、初期値<code>0</code>に対してリスト<code>[1,2,3,4,5]</code>の要素を右側から足していき、最後の結果<code>15</code>を返します。</p>

<p>次の例では、初期値<code>[]</code>に、リスト<code>[1,2,3,4,5]</code>の元の数とその二乗のペアを右側から追加していき、最後の結果<code>[{1,1}, {2,4}, {3,9}, {4,16}, {5,25}]</code>を返します。</p>

<h3>foreach/2</h3>

<h4>Erlang公式ドキュメント</h4>

<blockquote><h4>foreach(Fun, List) &ndash;> ok</h4>

<h4>Types</h4>

<ul>
<li>Fun = fun((Elem :: T) &ndash;> term())</li>
<li>List = [T]</li>
<li>T = term()</li>
</ul>


<p>Calls Fun(Elem) for each element Elem in List. This function is used for its side effects and the evaluation order is defined to be the same as the order of the elements in the list.</p>

<p><a href="http://erlang.org/doc/man/lists.html#foreach-2">参照元</a></p></blockquote>

<h4>解説</h4>

<p>第一引数に与えられた関数をリストの要素すべてに適用します。この関数は副作用のある処理に用いられます。処理順はリストの順番に実行されます。</p>

<h4>実例</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="mi">3</span><span class="o">&gt;</span> <span class="nn">lists</span><span class="p">:</span><span class="nf">foreach</span><span class="p">(</span><span class="k">fun</span><span class="p">(</span><span class="nv">X</span><span class="p">)</span> <span class="o">-&gt;</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span>     <span class="nn">io</span><span class="p">:</span><span class="nf">format</span><span class="p">(</span><span class="s">&quot;</span><span class="si">~p</span><span class="s"> x </span><span class="si">~p</span><span class="s"> = </span><span class="si">~p~n</span><span class="s">&quot;</span><span class="p">,</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span>         <span class="p">[</span><span class="nv">X</span><span class="p">,</span> <span class="nv">X</span><span class="p">,</span> <span class="nv">X</span> <span class="o">*</span> <span class="nv">X</span><span class="p">])</span> <span class="k">end</span><span class="p">,</span>
</span><span class='line'><span class="mi">3</span><span class="o">&gt;</span>     <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]).</span>
</span><span class='line'><span class="mi">1</span> <span class="n">x</span> <span class="mi">1</span> <span class="o">=</span> <span class="mi">1</span>
</span><span class='line'><span class="mi">2</span> <span class="n">x</span> <span class="mi">2</span> <span class="o">=</span> <span class="mi">4</span>
</span><span class='line'><span class="mi">3</span> <span class="n">x</span> <span class="mi">3</span> <span class="o">=</span> <span class="mi">9</span>
</span><span class='line'><span class="mi">4</span> <span class="n">x</span> <span class="mi">4</span> <span class="o">=</span> <span class="mi">16</span>
</span><span class='line'><span class="mi">5</span> <span class="n">x</span> <span class="mi">5</span> <span class="o">=</span> <span class="mi">25</span>
</span><span class='line'><span class="n">ok</span>
</span></code></pre></td></tr></table></div></figure>


<p>リストの要素を順番に標準出力に出力しています。</p>

<h2>次回</h2>

<p>次回は次の式の結果をやっていきます。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='erlang'><span class='line'><span class="nn">lists</span><span class="p">:</span><span class="nf">sublist</span><span class="p">(</span>
</span><span class='line'>    <span class="nn">lists</span><span class="p">:</span><span class="nf">sort</span><span class="p">(</span>
</span><span class='line'>        <span class="nn">lists</span><span class="p">:</span><span class="nf">map</span><span class="p">(</span>
</span><span class='line'>            <span class="k">fun</span><span class="p">({</span><span class="nv">F</span><span class="p">,</span> <span class="nv">A</span><span class="p">})</span> <span class="o">-&gt;</span>
</span><span class='line'>                <span class="nb">atom_to_list</span><span class="p">(</span><span class="nv">F</span><span class="p">)</span> <span class="o">++</span>
</span><span class='line'>                <span class="s">&quot;/&quot;</span> <span class="o">++</span>
</span><span class='line'>                <span class="nb">integer_to_list</span><span class="p">(</span><span class="nv">A</span><span class="p">)</span>
</span><span class='line'>            <span class="k">end</span><span class="p">,</span>
</span><span class='line'>            <span class="nn">lists</span><span class="p">:</span><span class="nf">module_info</span><span class="p">(</span><span class="n">exports</span><span class="p">))),</span>
</span><span class='line'>    <span class="mi">17</span><span class="p">,</span>
</span><span class='line'>    <span class="mi">16</span><span class="p">).</span>
</span></code></pre></td></tr></table></div></figure>




<script type="text/javascript"><!--
google_ad_client = "ca-pub-4508687151223458";
/* octopress */
google_ad_slot = "1134799005";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>


<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40855644-1', 'github.io');
  ga('send', 'pageview');

</script>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[プログラマーのための会計知識・用語 - (1)]]></title>
    <link href="http://mike-neck.github.io/blog/2013/05/13/puroguramafalsetamefalsehui-ji-zhi-shi-yong-yu-1/"/>
    <updated>2013-05-13T10:17:00+09:00</updated>
    <id>http://mike-neck.github.io/blog/2013/05/13/puroguramafalsetamefalsehui-ji-zhi-shi-yong-yu-1</id>
    <content type="html"><![CDATA[<p>こんにちわみけです。</p>

<p>一般的にエンタープライズ系プログラマーは</p>

<p>会計用語の英単語は丸暗記していると聞きました。</p>

<p>僕は戦えないエンタープライズ系プログラマーなので、</p>

<p>今、猛勉強しています。</p>

<h2>超基本用語</h2>

<table>
<thead>
<tr>
<th></th>
<th align="left"> 英単語 </th>
<th align="center"> 日本語 </th>
<th align="left"> 意味 </th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td align="left"> Assets </td>
<td align="center"> 資産 </td>
<td align="left"> 今持っている価値のある物 |</td>
</tr>
<tr>
<td></td>
<td align="left"> Liabilities </td>
<td align="center"> 負債 </td>
<td align="left"> 外部に起因する価値 |</td>
</tr>
<tr>
<td></td>
<td align="left"> Capital </td>
<td align="center"> 資本 </td>
<td align="left"> 権利者が持っている価値 |</td>
</tr>
</tbody>
</table>


<h2>基本重要式</h2>

<ul>
<li><strong>Assets = Liabilities + Capital</strong></li>
<li><strong>資産 = 負債 + 資本</strong></li>
</ul>


<h2>まとめ</h2>

<blockquote><p>The accounting equation of</p>

<p><strong>Assets = Liablities + Capital</strong></p>

<p>shouled balance after every transaction.</p>

<p>  from (<strong>Schaum&rsquo;s Easy Outlines</strong> <em>Bookkeeping and Accounting</em> p.2)</p></blockquote>

<p>会計式「資産 = 負債 + 資本」はすべての取引において成立しなければならない。</p>

<iframe src="http://rcm-jp.amazon.co.jp/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=kkkjkrt-22&o=9&p=8&l=as4&m=amazon&f=ifr&ref=ss_til&asins=0071779752" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>




<script type="text/javascript"><!--
google_ad_client = "ca-pub-4508687151223458";
/* octopress */
google_ad_slot = "1134799005";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>


<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40855644-1', 'github.io');
  ga('send', 'pageview');

</script>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[JJUG CCC 2013 Spring に行ってきた]]></title>
    <link href="http://mike-neck.github.io/blog/2013/05/12/jjug-ccc-2013-spring-nixing-tutekita/"/>
    <updated>2013-05-12T16:47:00+09:00</updated>
    <id>http://mike-neck.github.io/blog/2013/05/12/jjug-ccc-2013-spring-nixing-tutekita</id>
    <content type="html"><![CDATA[<p>みけです。</p>

<p>2013/05/11行われた<a href="http://www.java-users.jp/?page_id=330">JJUG CCC 2013 Spring</a>に午後から行って来ました。</p>

<p>なんか午前の基本講演のJim Weaverさんと</p>

<p><a href="http://atnd.org/events/33874">JavaFX Advent Calendar2012</a>をやった人達で</p>

<p>ランチに行ってきたそうです。</p>

<p>午前に行けなくて残念…</p>

<p>以下、僕が参加したセッションのまとめ</p>

<h2>H-1 Java EE 6 から Java EE 7 に向かって</h2>

<p>王子こと寺田さんのセッション。</p>

<p>まあ、大体聞いたことのある話でした(失礼！)。</p>

<ul>
<li>JavaEE7に向けてJavaEE6も勉強して下さい。</li>
<li>JavaEE6はJavaEE5以前に比べてかなり軽量化されています。</li>
<li>JavaEE6からはテストも非常に容易になっています。</li>
</ul>


<p>といった感じです。</p>

<p>その他、JavaEE7に追加される機能の一部の概要の説明がありました。</p>

<h3>結論</h3>

<ul>
<li>JavaEE7はおもろいので、ぜひやろうぜ</li>
<li>JavaEE6やってない人はJavaEE6からどうぞ</li>
<li>資料公開してくれるはず、はず、はず</li>
</ul>


<iframe src="http://rcm-jp.amazon.co.jp/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=kkkjkrt-22&o=9&p=8&l=as4&m=amazon&f=ifr&ref=ss_til&asins=4798124605" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>


<h2>H-2 H-2 Project Lambda Essential</h2>

<p>桜庭さんのProject Lambdaに関するセッション。</p>

<p>まあ、ラムダは大体わかっているし、あれでしたが、</p>

<p>Streamに関する話は面白かったです。</p>

<h3>Streamとは？</h3>

<p>終端の定義されていないCollectionのことだそうです。</p>

<p>次のようなクラスが定義されています。</p>

<ul>
<li>Object用 <code>java.util.stream.Stream&lt;T&gt;</code></li>
<li>int用 <code>java.util.stream.IntStream</code></li>
<li>long用 <code>java.util.stream.LongStream</code></li>
<li>double用 <code>java.util.stream.DoubleStream</code></li>
</ul>


<h4>メソッドとか</h4>

<p>メソッドとかの例を上げてみます。</p>

<p>ちなみに、昔(今)どうやっているかも一緒に書きます。</p>

<h5>filter</h5>

<figure class='code'><figcaption><span>filter</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">IntStream</span> <span class="n">stream</span> <span class="o">=</span> <span class="n">IntStream</span><span class="o">.</span><span class="na">range</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">10</span><span class="o">);</span>
</span><span class='line'><span class="kt">int</span><span class="o">[]</span> <span class="n">result</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">x</span> <span class="o">-&gt;</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="o">).</span><span class="na">toArray</span><span class="o">();</span>
</span><span class='line'><span class="c1">// result -&gt; [2, 4, 6, 8, 10]</span>
</span></code></pre></td></tr></table></div></figure>


<p>昔のやり方</p>

<figure class='code'><figcaption><span>filter-old-style</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
</span><span class='line'><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
</span><span class='line'><span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="o">;</span> <span class="n">i</span> <span class="o">++)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">item</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>  <span class="k">if</span> <span class="o">(</span><span class="n">item</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>      <span class="n">result</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<h5>map</h5>

<figure class='code'><figcaption><span>map</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">IntStream</span> <span class="n">stream</span> <span class="o">=</span> <span class="n">IntStream</span><span class="o">.</span><span class="na">range</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">4</span><span class="o">);</span>
</span><span class='line'><span class="kt">int</span><span class="o">[]</span> <span class="n">result</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">x</span> <span class="o">-&gt;</span> <span class="n">x</span> <span class="o">*</span> <span class="n">x</span><span class="o">).</span><span class="na">toArray</span><span class="o">();</span>
</span><span class='line'><span class="c1">// result -&gt; [1, 4, 9, 16]</span>
</span></code></pre></td></tr></table></div></figure>


<p>ちなみに昔のやり方</p>

<figure class='code'><figcaption><span>map-old-style</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
</span><span class='line'><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
</span><span class='line'><span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">4</span><span class="o">;</span> <span class="n">i</span> <span class="o">++)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">item</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">item</span> <span class="o">*</span> <span class="n">item</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<h5>reduce</h5>

<figure class='code'><figcaption><span>reduce</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">IntStream</span> <span class="n">stream</span> <span class="o">=</span> <span class="n">IntStream</span><span class="o">.</span><span class="na">range</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">10</span><span class="o">);</span>
</span><span class='line'><span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="na">reduce</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="o">).</span><span class="na">get</span><span class="o">();</span>
</span><span class='line'><span class="c1">// result -&gt; 55</span>
</span></code></pre></td></tr></table></div></figure>


<p>ちなみに昔のやり方</p>

<figure class='code'><figcaption><span>reduce-old-style</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
</span><span class='line'><span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
</span><span class='line'><span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="o">;</span> <span class="n">i</span> <span class="o">++)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">item</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">result</span> <span class="o">+=</span> <span class="n">item</span><span class="o">;</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<h4>対応</h4>

<ul>
<li>filter &ndash;> if文</li>
<li>map &ndash;> getter</li>
<li>reduce &ndash;> 副作用プログラミング</li>
</ul>


<h3>Project Lambdaに関して</h3>

<h4>lambdaを使用しているのにHoge$A.classみたいなものができない</h4>

<p>lambda式が表しているクラスは動的に評価されてinvoke dynamicで実行される</p>

<h4>mapとreduceを実行しているのに、ループが一回しかまわらない</h4>

<p>map/reduce式は遅延して実行される</p>

<h3>まとめ</h3>

<ul>
<li>Project LambdaとかStreamは記法がかなり変わるので、使用禁止と言われないように勉強しろ(とくにプロジェクトの<strike>エロイ</strike>エライ人)</li>
</ul>


<iframe src="http://rcm-jp.amazon.co.jp/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=kkkjkrt-22&o=9&p=8&l=as4&m=amazon&f=ifr&ref=ss_til&asins=0321927761" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>


<h2>R5-3 Type Annotation って何? それを使うとプログラムはどう変わる?</h2>

<p>Type Annotationに関するセッション</p>

<h3>比較</h3>

<ul>
<li>これまでのアノテーション(AnnotationType)は宣言をするアノテーション</li>
<li>TypeAnnotationは型、参照の利用に関する説明のアノテーション</li>
</ul>


<h3>例</h3>

<figure class='code'><figcaption><span>TypeAnnotation-example</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="c1">// 空リストではない、読み取り専用のリスト</span>
</span><span class='line'><span class="nd">@NotEmpty</span> <span class="nd">@ReadOnly</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">customer</span> <span class="o">=</span> <span class="n">CustomerService</span><span class="o">.</span><span class="na">getCustomer</span><span class="o">().</span><span class="na">withMultipleAccount</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// nullなkey不可、空リストでなく読み取り専用なvalueを持つマップ</span>
</span><span class='line'><span class="n">Map</span><span class="o">&lt;</span><span class="nd">@NonNull</span> <span class="n">String</span><span class="o">,</span> <span class="nd">@NotEmpty</span> <span class="n">List</span><span class="o">&lt;</span><span class="nd">@ReadOnly</span> <span class="n">Text</span><span class="o">&gt;&gt;</span> <span class="n">document</span> <span class="o">=</span> <span class="n">DocumentService</span><span class="o">.</span><span class="na">splitDocumentToTextList</span><span class="o">(</span><span class="n">doc</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>ここでなんとかServiceとか書いていますが、テキトーなので突っ込まないで下さい。</p>

<h3>記述位置で意味が異なる</h3>

<figure class='code'><figcaption><span>position-has-much-meanings</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="c1">// 読み取り専用のリスト</span>
</span><span class='line'><span class="c1">// customers.add(customer)や、customers.replace(index, customer)はできない。</span>
</span><span class='line'><span class="nd">@ReadOnly</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Customer</span><span class="o">&gt;</span> <span class="n">customers</span> <span class="o">=</span> <span class="n">CustomerService</span><span class="o">.</span><span class="na">getCustomer</span><span class="o">().</span><span class="na">withMultipleAccount</span><span class="o">();</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// 変更可能なリスト</span>
</span><span class='line'><span class="c1">// ただし入っているCustomerへの変更は不可</span>
</span><span class='line'><span class="c1">// customer.addNewAddress(address)などは実行できない</span>
</span><span class='line'><span class="n">List</span><span class="o">&lt;</span><span class="nd">@ReadOnly</span> <span class="n">Customer</span><span class="o">&gt;</span> <span class="n">customers</span> <span class="o">=</span> <span class="n">CustomerService</span><span class="o">.</span><span class="na">getCustomer</span><span class="o">().</span><span class="na">withMultipleAccount</span><span class="o">();</span>
</span></code></pre></td></tr></table></div></figure>


<h3>使えない場所</h3>

<ul>
<li>クラスリテラル</li>
<li>import文</li>
<li>staticメンバー</li>
</ul>


<h3>簡単な例</h3>

<ul>
<li><code>@NonNull</code></li>
<li><code>@NotEmpty</code></li>
<li><code>@Interned</code></li>
<li><code>@ReadOnly</code></li>
<li><code>@Critical</code></li>
</ul>


<h3>残念なこと</h3>

<ul>
<li>書けるけど、意味は無い…</li>
<li>JavaSE8で事前定義された型アノテーションは(今のところ)ない</li>
<li>Java SE8でも入らないし、Java SE9でも入らないかもしれない</li>
<li>単純に実装者が気をつけろよレベル</li>
</ul>


<h3>まとめ</h3>

<p>うむ、なんかちょっと残念。</p>

<iframe src="http://rcm-jp.amazon.co.jp/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=kkkjkrt-22&o=9&p=8&l=as4&m=amazon&f=ifr&ref=ss_til&asins=0321927761" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>


<h2>H-4 失敗から学ぶAPI設計</h2>

<p>イケメンことゆーすけさんのセッション</p>

<p>Twitter4Jのプロモーションとか、たくさん使ってもらうためにしたことなどを発表</p>

<h3>たくさん使ってもらうためのプロモーション的な</h3>

<ul>
<li>汚いことでもなんでもする</li>
<li>手厚いサポートをする。ggrksとかしない</li>
</ul>


<h3>たくさん使ってもらうための技術的な</h3>

<ul>
<li>インターフェースを使わないでクラスを使う</li>
<li>あまりパッケージを増やさない</li>
<li>名前はよく考える</li>
<li>デザパタとかも使わせない</li>
<li>継承させない</li>
<li>本当に使ってほしくないクラスは異様な名前にする</li>
</ul>


<p>あとは、資料が公表されているので、そちらを参照。</p>

<iframe src="http://www.slideshare.net/slideshow/embed_code/20968265" width="427" height="356" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC;border-width:1px 1px 0;margin-bottom:5px" allowfullscreen webkitallowfullscreen mozallowfullscreen> </iframe>


<p> <div style="margin-bottom:5px"> <strong> <a href="http://www.slideshare.net/yusukey/api-ccch4-jjug-jjugccc-jjug-ccc-2013-spring" title="失敗から学ぶAPI設計 #ccc_h4 #jjug #jjug_ccc JJUG CCC 2013 Spring " target="_blank">失敗から学ぶAPI設計 #ccc_h4 #jjug #jjug_ccc JJUG CCC 2013 Spring </a> </strong> from <strong><a href="http://www.slideshare.net/yusukey" target="_blank">Yusuke Yamamoto</a></strong> </div></p>

<iframe src="http://rcm-jp.amazon.co.jp/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=kkkjkrt-22&o=9&p=8&l=as4&m=amazon&f=ifr&ref=ss_til&asins=477414732X" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>


<h2>R5-5 [BOF] Java読書会ライブ</h2>

<p>実は昔デブサミのLT大会でLTを聞いてから興味を持っていたので、聞いてみたかったセッション</p>

<p>実際に音読をしているし、途中で議論をやっていて面白そうでした。</p>

<p>今は<a href="http://www.amazon.co.jp/gp/product/477415377X/ref=as_li_ss_tl?ie=UTF8&amp;camp=247&amp;creative=7399&amp;creativeASIN=477415377X&amp;linkCode=as2&amp;tag=kkkjkrt-22">JUnit実践入門</a>を読んでいるそうです。</p>

<h3>概要</h3>

<ul>
<li>月一回土曜日に開催</li>
<li>まず自己紹介と近況の報告をする</li>
<li>書記を選出する</li>
<li>書記は議論のポイントなどをまとめてサイトに掲載する</li>
<li>午前10:00くらいから昼間でと午後5時まで続ける</li>
<li>その後は有志で飲みに行く</li>
</ul>


<p>まあ、普通の勉強会ですね。</p>

<h3>質疑応答</h3>

<h4>読む本はどうやって決定しているか？</h4>

<ul>
<li>投票によって決定しているそうです。</li>
<li>なお、投票は普通の参加者は1票、書記は2票を入れることができるそうです。</li>
</ul>


<h4>どれくらいのスピードで読んでいるのか</h4>

<ul>
<li>毎回約60ページ程度読んでいます。</li>
</ul>


<h4>予習とか必要か？</h4>

<ul>
<li>してないけど、してくる人もいる</li>
</ul>


<h4>コードの実行をしたりするのか？</h4>

<ul>
<li>パソコン持ってきていてやってくれる人もいる</li>
</ul>


<h4>どんな本が読書会に向いているか</h4>

<ul>
<li>入門本よりはすこし難しめな本で、どうしても積ん読になってしまうようなもののほうが適している</li>
<li>いろんなコンテキストを持っている人が参加するので、それが勉強になる</li>
</ul>


<h3>まとめ</h3>

<p>面白そうなので、一回参加してみたいと思いました。</p>

<p>参考リンク : <a href="http://www.javareading.com/bof/">Java読書会BOFのページ</a></p>

<h2>R2-6 [BOF] 地方における勉強会事情</h2>

<p>沖縄、大都会岡山、札幌＋急遽大阪のコミュニティ・勉強会の主催者によるパネルディスカッション</p>

<p>東京の勉強会との違いがわかる一方で、</p>

<p>Javaの勉強会が抱えている問題と共通するものがあるなーという感じがしました。</p>

<p>詳しくはtogetterにまとめられていますので、</p>

<p>そちらを参照して下さい。</p>

<p><a href="http://togetter.com/li/501590">JJUG CCC 2013 Spring R2-6 [BOF] 地方における勉強会事情</a></p>

<blockquote><p>2013/05/12 19:54 追記</p>

<p>地方の勉強会で初参加する人は</p>

<p>勉強会に参加してきたというブログを読んで</p>

<p>いけそうだなと思って参加するらしいです。</p>

<p>したがって、勉強会の活性化をしたいなら</p>

<ul>
<li><strong>とにかくブログを書け</strong></li>
<li><strong>勉強会はブログを書くまでが勉強会です</strong></li>
</ul>
</blockquote>

<h2>JJUG CCC 2013 Spring 懇親会</h2>

<p>一応参加して来ました。</p>

<p>そしてなぜかLTさせられることになったので、</p>

<p>グダグダなやつをやってきました。</p>

<p>参考 : <a href="http://mikeneck.blogspot.jp/2013/05/sushi.html">ゆとりさんが鮨を奢ってくれるそうなので、感謝の気持を込めて、たくさんのプロセスに「sushi」と言わせてみた</a></p>

<h2>まとめ</h2>

<p>Java楽しいですね。</p>

<p>僕はもう人間的にかなり不活性ですが、</p>

<p>Java自体は活性化して貰いたいので、</p>

<p>なんか継続できる勉強会でもやりたいなと思います。</p>

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4508687151223458";
/* octopress */
google_ad_slot = "1134799005";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>


<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40855644-1', 'github.io');
  ga('send', 'pageview');

</script>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Erlangのリスト系モジュールを試してみる - 第0回]]></title>
    <link href="http://mike-neck.github.io/blog/2013/05/11/erlangfalserisutoguan-shu-woshi-sitemiru/"/>
    <updated>2013-05-11T01:50:00+09:00</updated>
    <id>http://mike-neck.github.io/blog/2013/05/11/erlangfalserisutoguan-shu-woshi-sitemiru</id>
    <content type="html"><![CDATA[<p>こんにちわ、みけです。</p>

<p>Erlangの初心者・初級・初歩レベルの僕にとって、</p>

<p>まず色々とBIFだとか、基本的なモジュールを使いこなせるのが、</p>

<p>上達への近道かと思ったので、</p>

<p><code>lists</code>モジュールについて、</p>

<p>すべての関数を試してみようと思います。</p>

<h3>モジュール情報を表示する</h3>

<p>まず、モジュールの情報を表示するモジュールcのコマンドは</p>

<p><code>m(Module)</code>関数です。</p>

<p>早速<code>lists</code>モジュールに試して見る。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>1&gt; m(lists).
</span><span class='line'>Module lists compiled: Date: February 25 2013, Time: 19.27
</span><span class='line'>Compiler options:  [{outdir,"/net/isildur/ldisk/daily_build/r16b_prebuild_master-opu_o.2013-02-25_20/otp_src_R16B/lib/stdlib/src/../ebin"},
</span><span class='line'>                    {i,"/net/isildur/ldisk/daily_build/r16b_prebuild_master-opu_o.2013-02-25_20/otp_src_R16B/lib/stdlib/src/../include"},
</span><span class='line'>                    {i,"/net/isildur/ldisk/daily_build/r16b_prebuild_master-opu_o.2013-02-25_20/otp_src_R16B/lib/stdlib/src/../../kernel/include"},
</span><span class='line'>                    warnings_as_errors,debug_info]
</span><span class='line'>Object file: /opt/local/lib/erlang/lib/stdlib-1.19.1/ebin/lists.beam
</span><span class='line'>Exports: 
</span><span class='line'>all/2                         nthtail/2
</span><span class='line'>any/2                         partition/2
</span><span class='line'>append/2                      prefix/2
</span><span class='line'>append/1                      reverse/1
</span><span class='line'>concat/1                      reverse/2
</span><span class='line'>delete/2                      rkeymerge/3
</span><span class='line'>dropwhile/2                   rmerge/2
</span><span class='line'>duplicate/2                   rmerge/3
</span><span class='line'>filter/2                      rmerge3/3
</span><span class='line'>flatlength/1                  rukeymerge/3
</span><span class='line'>flatmap/2                     rumerge/3
</span><span class='line'>flatten/2                     rumerge/2
</span><span class='line'>flatten/1                     rumerge3/3
</span><span class='line'>foldl/3                       seq/2
</span><span class='line'>foldr/3                       seq/3
</span><span class='line'>foreach/2                     sort/2
</span><span class='line'>keydelete/3                   sort/1
</span><span class='line'>keyfind/3                     split/2
</span><span class='line'>keymap/3                      splitwith/2
</span><span class='line'>keymember/3                   sublist/3
</span><span class='line'>keymerge/3                    sublist/2
</span><span class='line'>keyreplace/4                  subtract/2
</span><span class='line'>keysearch/3                   suffix/2
</span><span class='line'>keysort/2                     sum/1
</span><span class='line'>keystore/4                    takewhile/2
</span><span class='line'>keytake/3                     ukeymerge/3
</span><span class='line'>last/1                        ukeysort/2
</span><span class='line'>map/2                         umerge/3
</span><span class='line'>mapfoldl/3                    umerge/1
</span><span class='line'>mapfoldr/3                    umerge/2
</span><span class='line'>max/1                         umerge3/3
</span><span class='line'>member/2                      unzip/1
</span><span class='line'>merge/1                       unzip3/1
</span><span class='line'>merge/2                       usort/2
</span><span class='line'>merge/3                       usort/1
</span><span class='line'>merge3/3                      zf/2
</span><span class='line'>min/1                         zip/2
</span><span class='line'>module_info/0                 zip3/3
</span><span class='line'>module_info/1                 zipwith/3
</span><span class='line'>nth/2                         zipwith3/4
</span><span class='line'>ok
</span></code></pre></td></tr></table></div></figure>


<p>関数がたくさんあって、数えるの面倒いな…</p>

<h3>詳細なモジュール情報を表示する</h3>

<p><code>lists:module_info/0</code>関数でも同じようなものを調べられる。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>2&gt; lists:module_info().
</span><span class='line'>[{exports,[{append,2},
</span><span class='line'>           {append,1},
</span><span class='line'>           {subtract,2},
</span><span class='line'>           {nth,2},
</span><span class='line'>           {nthtail,2},
</span><span class='line'>           {prefix,2},
</span><span class='line'>           {suffix,2},
</span><span class='line'>           {last,1},
</span><span class='line'>           {seq,2},
</span><span class='line'>           {seq,3},
</span><span class='line'>           {sum,1},
</span><span class='line'>           {duplicate,2},
</span><span class='line'>           {min,1},
</span><span class='line'>           {max,1},
</span><span class='line'>           {sublist,3},
</span><span class='line'>           {sublist,2},
</span><span class='line'>           {zip,2},
</span><span class='line'>           {unzip,1},
</span><span class='line'>           {zip3,3},
</span><span class='line'>           {unzip3,1},
</span><span class='line'>           {zipwith,3},
</span><span class='line'>           {zipwith3,4},
</span><span class='line'>           {merge,1},
</span><span class='line'>           {merge3,3},
</span><span class='line'>           {rmerge3,...},
</span><span class='line'>           {...}|...]},
</span><span class='line'> {imports,[]},
</span><span class='line'> {attributes,[{vsn,[257948301539042745638557295194154171573]}]},
</span><span class='line'> {compile,[{options,[{outdir,"/net/isildur/ldisk/daily_build/r16b_prebuild_master-opu_o.2013-02-25_20/otp_src_R16B/lib/stdlib/src/../ebin"},
</span><span class='line'>                     {i,"/net/isildur/ldisk/daily_build/r16b_prebuild_master-opu_o.2013-02-25_20/otp_src_R16B/lib/stdlib/src/../include"},
</span><span class='line'>                     {i,"/net/isildur/ldisk/daily_build/r16b_prebuild_master-opu_o.2013-02-25_20/otp_src_R16B/lib/stdlib/src/../../kernel/include"},
</span><span class='line'>                     warnings_as_errors,debug_info]},
</span><span class='line'>           {version,"4.9"},
</span><span class='line'>           {time,{2013,2,25,19,27,47}},
</span><span class='line'>           {source,"/net/isildur/ldisk/daily_build/r16b_prebuild_master-opu_o.2013-02-25_20/otp_src_R16B/lib/stdlib/src/lists.erl"}]}]</span></code></pre></td></tr></table></div></figure>


<p><code>exports</code>されている関数、</p>

<p>途中で表示が切れてまんがな…</p>

<h3>BIFとかリスト内包表記で頑張ってみる</h3>

<p>今はエントリーの長さに影響をする関数の数を知りたいので、</p>

<p>リストの内包表記で<code>lists:module_info/0</code>の</p>

<p>結果を絞って、BIFの</p>

<ul>
<li><code>length/1</code> &ndash; リストの長さを取得する</li>
<li><code>hd/1</code> &ndash; リストの先頭要素を取得する</li>
</ul>


<p>を用いて<code>lists</code>モジュールの関数の数を数えてみる。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>3&gt; length(hd([Items || {Atom, Items} &lt;- lists:module_info(), Atom =:= exports])).
</span><span class='line'>80</span></code></pre></td></tr></table></div></figure>


<p>というわけで、80もあるので、</p>

<p>16個ずつ調べていこうと思う。</p>

<blockquote><p>追記 (2013/05/13 9:16)</p>

<p>2013/05/12 21:19 頃に</p>

<p><a href="https://github.com/voluntas">voluntasさん</a>(<a href="http://twitter.com/voluntas">@voluntas</a>)から
メッセージをいただきました。</p>

<p><code>length(lists:module_info(exports))</code></p>

<p>で同じ事が取得できるとのこと。</p>

<p>実際にやってみたら</p>

<p><code>
1&gt; length(lists:module_info(exports)).
80
</code></p>

<p>あ、できた、ありがとうございます！</p>

<p>ちなみにドキュメントにもありました。</p>

<p><a href="http://erlang.org/doc/reference_manual/modules.html#id74571">The module_info/0 and module_info/1 functions</a></p>

<p>ドキュメント読まんとイケませんね</p></blockquote>

<h3>まとめ</h3>

<p>まとめもクソもないのですが、</p>

<p>次回から約5回にわたって、</p>

<p><code>lists</code>モジュールの関数を試していきます。</p>

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4508687151223458";
/* octopress */
google_ad_slot = "1134799005";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>


<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40855644-1', 'github.io');
  ga('send', 'pageview');

</script>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[FC2ブログのエディターがクソいのでGroovyのMarkupBuilderで記事を書いた件]]></title>
    <link href="http://mike-neck.github.io/blog/2013/05/10/too-poor-fc2-blog-editor-make-me-write-a-new-entry-with-groovys-markupbuilder/"/>
    <updated>2013-05-10T20:00:00+09:00</updated>
    <id>http://mike-neck.github.io/blog/2013/05/10/too-poor-fc2-blog-editor-make-me-write-a-new-entry-with-groovys-markupbuilder</id>
    <content type="html"><![CDATA[<p>こんにちわ、自虐的なみけです。</p>

<p>自虐的なツイートをtogetterにまとめたら、</p>

<p><strong>自虐的だからたかが知れている、ビジネスなめてんの</strong></p>

<p>とコメントいただきました。</p>

<p>はい。</p>

<h3>FC2ブログのエディターがクソな件</h3>

<p>まあ、このブログを始めると同時に、</p>

<p><a href="http://mikeneckdq.blog.fc2.com/">ドラクエ用のブログをFC2</a>の方に</p>

<p>書いているわけですが、</p>

<p>FC2のあのブログエディターなめてんの？</p>

<p>テーブル書いたら</p>

<p>わけわからん改行が出てくるし、</p>

<p>スタイルタグはシカトされるし、</p>

<p>UI舐めきってて、ビジネスを舐めているとしか考えられん。</p>

<h3>しかたがないのでタグの中にstyle属性を</h3>

<p>書くことにしたわけですが、</p>

<p>テーブルの要素一つ一つにstyleを手でちまちま書いていた日には、</p>

<p>いくら暇すぎる僕でも、</p>

<p>忙しくなりすぎる。</p>

<p>しかたないので、</p>

<p><strong>Groovy</strong> の <strong>groovy.xml.MarkupBuilder</strong> を</p>

<p>使うことにしました。</p>

<div><script src='https://gist.github.com/5551749.js'></script>
<noscript><pre><code></code></pre></noscript></div>


<h3>何をやろうとしてたかというと、</h3>

<p>仕訳を作ろうとしていたわけで、</p>

<p>いくらの投資でいくら回収できるという</p>

<p>話をするのに複式簿記がよくて、</p>

<p>それをGroovyで自動集計させながら、</p>

<p>最終的に総勘定元帳を作り出すというもの。</p>

<p><strong>MarkupBuilder便利すな</strong></p>

<h3>ところで…</h3>

<p>このスクリプトを書いている時に、</p>

<ul>
<li>簿記 (Bookkeeping)</li>
<li>仕訳 (Journal)</li>
<li>借方 (Debit)</li>
<li>貸方 (Credit)</li>
</ul>


<p>といった基本的な単語がわかってないことが</p>

<p>わかりました。</p>

<blockquote class="twitter-tweet" lang="ja"><p>簿記３級くらいの知識が欲しい</p>&mdash; 器官なき身体さん (@mike_neck) <a href="https://twitter.com/mike_neck/status/332655391110467585">2013年5月10日</a></blockquote>


<script async src="http://mike-neck.github.io//platform.twitter.com/widgets.js" charset="utf-8"></script>


<p>というわけで、</p>

<p>簿記・会計のドメインに強くなるべく、</p>

<iframe src="http://rcm-jp.amazon.co.jp/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=kkkjkrt-22&o=9&p=8&l=as4&m=amazon&f=ifr&ref=ss_til&asins=0071779752" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>


<p>この本を買ったとさ。</p>

<p>おわり。</p>

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4508687151223458";
/* octopress */
google_ad_slot = "1134799005";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>


<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40855644-1', 'github.io');
  ga('send', 'pageview');

</script>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[mike、mikeなるままに…Githubに移動しました。]]></title>
    <link href="http://mike-neck.github.io/blog/2013/05/08/first-post/"/>
    <updated>2013-05-08T20:31:00+09:00</updated>
    <id>http://mike-neck.github.io/blog/2013/05/08/first-post</id>
    <content type="html"><![CDATA[<p>どーも、みけです。
Githubでブログを書くことにしました。</p>

<p>試しにgistのコードも載せてみます。</p>

<div><script src='https://gist.github.com/5524789.js'></script>
<noscript><pre><code></code></pre></noscript></div>


<p>あまりマークダウン使いこなせてないんで、</p>

<p>良い感じの記事になるにはもうちょい時間かかると思う。</p>

<script type="text/javascript"><!--
google_ad_client = "ca-pub-4508687151223458";
/* octopress */
google_ad_slot = "1134799005";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>


<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-40855644-1', 'github.io');
  ga('send', 'pageview');

</script>



]]></content>
  </entry>
  
</feed>
